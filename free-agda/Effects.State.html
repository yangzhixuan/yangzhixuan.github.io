<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Effects.State</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Markup">\begin{code}</a>
<a id="14" class="Symbol">{-#</a> <a id="18" class="Keyword">OPTIONS</a> <a id="26" class="Pragma">--safe</a> <a id="33" class="Pragma">--experimental-lossy-unification</a> <a id="66" class="Symbol">#-}</a>

<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Prelude.html" class="Module">Prelude</a> <a id="91" class="Keyword">renaming</a> <a id="100" class="Symbol">(</a><a id="101" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="104" class="Symbol">to</a> <a id="107" class="InductiveConstructor">⟨⟩</a><a id="109" class="Symbol">)</a>
<a id="111" class="Keyword">open</a> <a id="116" class="Keyword">import</a> <a id="123" href="Signatures.html" class="Module">Signatures</a>
<a id="134" class="Keyword">open</a> <a id="139" class="Keyword">import</a> <a id="146" href="FinitenessConditions.html" class="Module">FinitenessConditions</a>
<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="FreeMonad.PackagedTheory.html" class="Module">FreeMonad.PackagedTheory</a>

<a id="205" class="Keyword">module</a> <a id="212" href="Effects.State.html" class="Module">Effects.State</a>
  <a id="228" class="Symbol">(</a><a id="229" href="Effects.State.html#229" class="Bound">S</a> <a id="231" class="Symbol">:</a> <a id="233" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="237" class="Symbol">)</a>
  <a id="241" class="Symbol">(</a><a id="242" href="Effects.State.html#242" class="Bound">finiteState</a> <a id="254" class="Symbol">:</a> <a id="256" href="FinitenessConditions.html#3040" class="Function">SplitQuotientedChoiceω</a> <a id="279" href="Effects.State.html#229" class="Bound">S</a><a id="280" class="Symbol">)</a>
  <a id="284" class="Symbol">(</a><a id="285" href="Effects.State.html#285" class="Bound">setState</a> <a id="294" class="Symbol">:</a> <a id="296" href="Cubical.Foundations.Prelude.html#10320" class="Function">isSet</a> <a id="302" href="Effects.State.html#229" class="Bound">S</a><a id="303" class="Symbol">)</a>
  <a id="307" class="Keyword">where</a>

<a id="314" class="Keyword">module</a> <a id="StateFunctor"></a><a id="321" href="Effects.State.html#321" class="Module">StateFunctor</a> <a id="334" class="Keyword">where</a>
  <a id="342" class="Keyword">data</a> <a id="StateFunctor.Op"></a><a id="347" href="Effects.State.html#347" class="Datatype">Op</a> <a id="350" class="Symbol">:</a> <a id="352" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="357" class="Keyword">where</a>
    <a id="StateFunctor.Op.`get"></a><a id="367" href="Effects.State.html#367" class="InductiveConstructor">`get</a>  <a id="373" class="Symbol">:</a> <a id="375" href="Effects.State.html#347" class="Datatype">Op</a>
    <a id="StateFunctor.Op.`put"></a><a id="382" href="Effects.State.html#382" class="InductiveConstructor">`put</a>  <a id="388" class="Symbol">:</a> <a id="390" href="Effects.State.html#229" class="Bound">S</a> <a id="392" class="Symbol">→</a> <a id="394" href="Effects.State.html#347" class="Datatype">Op</a>

  <a id="StateFunctor.Arity"></a><a id="400" href="Effects.State.html#400" class="Function">Arity</a> <a id="406" class="Symbol">:</a> <a id="408" href="Effects.State.html#347" class="Datatype">Op</a> <a id="411" class="Symbol">→</a> <a id="413" href="Agda.Primitive.html#326" class="Primitive">Type</a>
  <a id="420" href="Effects.State.html#400" class="Function">Arity</a> <a id="426" href="Effects.State.html#367" class="InductiveConstructor">`get</a>      <a id="436" class="Symbol">=</a> <a id="438" href="Effects.State.html#229" class="Bound">S</a>
  <a id="442" href="Effects.State.html#400" class="Function">Arity</a> <a id="448" class="Symbol">(</a><a id="449" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="454" class="Symbol">_)</a>  <a id="458" class="Symbol">=</a> <a id="460" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>

<a id="463" class="Keyword">open</a> <a id="468" href="Effects.State.html#321" class="Module">StateFunctor</a> <a id="481" class="Keyword">using</a> <a id="487" class="Symbol">(</a><a id="488" href="Effects.State.html#367" class="InductiveConstructor">`get</a><a id="492" class="Symbol">;</a> <a id="494" href="Effects.State.html#382" class="InductiveConstructor">`put</a><a id="498" class="Symbol">)</a> <a id="500" class="Keyword">public</a>

<a id="508" class="Keyword">open</a> <a id="513" href="Effects.State.html#321" class="Module">StateFunctor</a>

<a id="𝕊"></a><a id="527" href="Effects.State.html#527" class="Function">𝕊</a> <a id="529" class="Symbol">:</a> <a id="531" href="Signatures.html#348" class="Record">Signature</a>
<a id="541" href="Effects.State.html#527" class="Function">𝕊</a> <a id="543" class="Symbol">=</a> <a id="545" href="Effects.State.html#347" class="Datatype">Op</a> <a id="548" href="Signatures.html#386" class="InductiveConstructor Operator">◁</a> <a id="550" href="Effects.State.html#400" class="Function">Arity</a>

<a id="Sₘ"></a><a id="557" href="Effects.State.html#557" class="Function">Sₘ</a> <a id="560" class="Symbol">:</a> <a id="562" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="567" href="Level.html#254" class="Generalizable">a</a> <a id="569" class="Symbol">→</a> <a id="571" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="576" href="Level.html#254" class="Generalizable">a</a>
<a id="578" href="Effects.State.html#557" class="Function">Sₘ</a> <a id="581" href="Effects.State.html#581" class="Bound">A</a> <a id="583" class="Symbol">=</a> <a id="585" href="Effects.State.html#229" class="Bound">S</a> <a id="587" class="Symbol">→</a> <a id="589" href="Effects.State.html#581" class="Bound">A</a> <a id="591" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="593" href="Effects.State.html#229" class="Bound">S</a>

<a id="596" class="Keyword">open</a> <a id="601" class="Keyword">import</a> <a id="608" href="FreeMonad.Theory.html" class="Module">FreeMonad.Theory</a> <a id="625" class="Keyword">hiding</a> <a id="632" class="Symbol">(</a><a id="633" href="FreeMonad.Theory.html#1229" class="Record">Law</a><a id="636" class="Symbol">;</a> <a id="638" href="FreeMonad.Theory.html#1569" class="Record">Theory</a><a id="644" class="Symbol">)</a>
<a id="646" class="Keyword">import</a> <a id="653" href="FreeMonad.Theory.html" class="Module">FreeMonad.Theory</a>

<a id="Law"></a><a id="671" href="Effects.State.html#671" class="Function">Law</a> <a id="675" class="Symbol">:</a> <a id="677" href="Signatures.html#348" class="Record">Signature</a> <a id="687" class="Symbol">→</a> <a id="689" href="Agda.Primitive.html#326" class="Primitive">Type₁</a>
<a id="695" href="Effects.State.html#671" class="Function">Law</a> <a id="699" href="Effects.State.html#699" class="Bound">𝔽</a> <a id="701" class="Symbol">=</a> <a id="703" href="FreeMonad.Theory.html#1229" class="Record">FreeMonad.Theory.Law</a> <a id="724" href="Effects.State.html#699" class="Bound">𝔽</a> <a id="726" class="Number">0</a>

<a id="Theory"></a><a id="729" href="Effects.State.html#729" class="Function">Theory</a> <a id="736" class="Symbol">:</a> <a id="738" href="Signatures.html#348" class="Record">Signature</a> <a id="748" class="Symbol">→</a> <a id="750" href="Agda.Primitive.html#326" class="Primitive">Type₁</a>
<a id="756" href="Effects.State.html#729" class="Function">Theory</a> <a id="763" href="Effects.State.html#763" class="Bound">𝔽</a> <a id="765" class="Symbol">=</a> <a id="767" href="FreeMonad.Theory.html#1569" class="Record">FreeMonad.Theory.Theory</a> <a id="791" href="Effects.State.html#763" class="Bound">𝔽</a> <a id="793" class="Number">0</a>

<a id="796" class="Keyword">module</a> <a id="Synt"></a><a id="803" href="Effects.State.html#803" class="Module">Synt</a> <a id="808" class="Keyword">where</a>
  <a id="816" class="Keyword">open</a> <a id="821" class="Keyword">import</a> <a id="828" href="FreeMonad.Syntax.html" class="Module">FreeMonad.Syntax</a> <a id="845" href="Effects.State.html#527" class="Function">𝕊</a> <a id="847" class="Keyword">public</a> <a id="854" class="Keyword">hiding</a> <a id="861" class="Symbol">(</a><a id="862" href="FreeMonad.Syntax.html#356" class="Datatype">Syntax</a><a id="868" class="Symbol">)</a>
  <a id="872" class="Keyword">open</a> <a id="877" class="Keyword">import</a> <a id="884" href="FreeMonad.Syntax.html" class="Module">FreeMonad.Syntax</a> <a id="901" class="Keyword">public</a> <a id="908" class="Keyword">using</a> <a id="914" class="Symbol">(</a><a id="915" href="FreeMonad.Syntax.html#356" class="Datatype">Syntax</a><a id="921" class="Symbol">)</a>
  <a id="925" class="Keyword">open</a> <a id="930" href="FreeMonad.Syntax.html#2509" class="Module">SyntaxBind</a> <a id="941" class="Keyword">public</a>

  <a id="Synt.put"></a><a id="951" href="Effects.State.html#951" class="Function">put</a> <a id="955" class="Symbol">:</a> <a id="957" href="Effects.State.html#229" class="Bound">S</a> <a id="959" class="Symbol">→</a> <a id="961" href="FreeMonad.Syntax.html#356" class="Datatype">Syntax</a> <a id="968" href="Effects.State.html#527" class="Function">𝕊</a> <a id="970" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="974" href="Effects.State.html#951" class="Function">put</a> <a id="978" href="Effects.State.html#978" class="Bound">s</a> <a id="980" class="Symbol">=</a> <a id="982" href="FreeMonad.Syntax.html#516" class="Function Operator">Op⟦</a> <a id="986" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="991" href="Effects.State.html#978" class="Bound">s</a> <a id="993" href="FreeMonad.Syntax.html#516" class="Function Operator">⟧</a>

  <a id="Synt.get"></a><a id="998" href="Effects.State.html#998" class="Function">get</a> <a id="1002" class="Symbol">:</a> <a id="1004" href="FreeMonad.Syntax.html#356" class="Datatype">Syntax</a> <a id="1011" href="Effects.State.html#527" class="Function">𝕊</a> <a id="1013" href="Effects.State.html#229" class="Bound">S</a>
  <a id="1017" href="Effects.State.html#998" class="Function">get</a> <a id="1021" class="Symbol">=</a> <a id="1023" href="FreeMonad.Syntax.html#516" class="Function Operator">Op⟦</a> <a id="1027" href="Effects.State.html#367" class="InductiveConstructor">`get</a> <a id="1032" href="FreeMonad.Syntax.html#516" class="Function Operator">⟧</a>

  <a id="Synt.toState"></a><a id="1037" href="Effects.State.html#1037" class="Function">toState</a> <a id="1045" class="Symbol">:</a> <a id="1047" class="Symbol">(</a><a id="1048" href="Effects.State.html#229" class="Bound">S</a> <a id="1050" class="Symbol">→</a> <a id="1052" href="Level.html#270" class="Generalizable">A</a> <a id="1054" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="1056" href="Effects.State.html#229" class="Bound">S</a><a id="1057" class="Symbol">)</a> <a id="1059" class="Symbol">→</a> <a id="1061" href="FreeMonad.Syntax.html#356" class="Datatype">Syntax</a> <a id="1068" href="Effects.State.html#527" class="Function">𝕊</a> <a id="1070" href="Level.html#270" class="Generalizable">A</a>
  <a id="1074" href="Effects.State.html#1037" class="Function">toState</a> <a id="1082" href="Effects.State.html#1082" class="Bound">f</a> <a id="1084" class="Symbol">=</a>
    <a id="1090" class="Keyword">do</a> <a id="1093" href="Effects.State.html#1093" class="Bound">s</a> <a id="1095" href="FreeMonad.Syntax.html#2745" class="Function Operator">←</a> <a id="1097" href="Effects.State.html#998" class="Function">get</a>
       <a id="1108" class="Keyword">let</a> <a id="1112" href="Effects.State.html#1112" class="Bound">y</a> <a id="1114" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1116" href="Effects.State.html#1116" class="Bound">s′</a> <a id="1119" class="Symbol">=</a> <a id="1121" href="Effects.State.html#1082" class="Bound">f</a> <a id="1123" href="Effects.State.html#1093" class="Bound">s</a>
       <a id="1132" href="Effects.State.html#951" class="Function">put</a> <a id="1136" href="Effects.State.html#1116" class="Bound">s′</a>
       <a id="1146" href="FreeMonad.Syntax.html#2528" class="Function">return</a> <a id="1153" href="Effects.State.html#1112" class="Bound">y</a>

  <a id="1158" class="Keyword">open</a> <a id="1163" href="FreeMonad.Theory.html#1229" class="Module">FreeMonad.Theory.Law</a> <a id="1184" class="Keyword">public</a>
  <a id="1193" class="Keyword">open</a> <a id="1198" href="FreeMonad.Theory.html#632" class="Module">Equation</a> <a id="1207" class="Keyword">public</a>

  <a id="1217" class="Keyword">module</a> <a id="Synt.PutPutLawDisplay"></a><a id="1224" href="Effects.State.html#1224" class="Module">PutPutLawDisplay</a> <a id="1241" class="Keyword">where</a>
<a id="1247" class="Markup">\end{code}</a><a id="1257" class="Background">
%&lt;*put-put-law-disp&gt;
</a><a id="1279" class="Markup">\begin{code}</a>
    <a id="Synt.PutPutLawDisplay.put-put-law"></a><a id="1296" href="Effects.State.html#1296" class="Function">put-put-law</a> <a id="1308" class="Symbol">:</a> <a id="1310" href="Effects.State.html#671" class="Function">Law</a> <a id="1314" href="Effects.State.html#527" class="Function">𝕊</a>
    <a id="1320" href="Effects.State.html#1296" class="Function">put-put-law</a> <a id="1332" class="Symbol">.</a><a id="1333" href="FreeMonad.Theory.html#1307" class="Field">Γ</a> <a id="1335" class="Symbol">=</a> <a id="1337" href="Effects.State.html#229" class="Bound">S</a> <a id="1339" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="1341" href="Effects.State.html#229" class="Bound">S</a>
    <a id="1347" href="Effects.State.html#1296" class="Function">put-put-law</a> <a id="1359" class="Symbol">.</a><a id="1360" href="FreeMonad.Theory.html#1328" class="Field">ν</a> <a id="1362" class="Symbol">_</a> <a id="1364" class="Symbol">=</a> <a id="1366" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
    <a id="1372" href="Effects.State.html#1296" class="Function">put-put-law</a> <a id="1384" class="Symbol">.</a><a id="1385" href="FreeMonad.Theory.html#1353" class="Field">eqn</a> <a id="1389" class="Symbol">(</a><a id="1390" href="Effects.State.html#1390" class="Bound">s₁</a> <a id="1393" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1395" href="Effects.State.html#1395" class="Bound">s₂</a><a id="1397" class="Symbol">)</a> <a id="1399" class="Symbol">=</a>
      <a id="1407" class="Symbol">(</a><a id="1408" class="Keyword">do</a> <a id="1411" href="Effects.State.html#951" class="Function">put</a> <a id="1415" href="Effects.State.html#1390" class="Bound">s₁</a> <a id="1418" class="Symbol">;</a> <a id="1420" href="Effects.State.html#951" class="Function">put</a> <a id="1424" href="Effects.State.html#1395" class="Bound">s₂</a><a id="1426" class="Symbol">)</a> <a id="1428" href="FreeMonad.Theory.html#756" class="InductiveConstructor Operator">≐</a> <a id="1430" class="Symbol">(</a><a id="1431" class="Keyword">do</a> <a id="1434" href="Effects.State.html#951" class="Function">put</a> <a id="1438" href="Effects.State.html#1395" class="Bound">s₂</a><a id="1440" class="Symbol">)</a>
<a id="1442" class="Markup">\end{code}</a><a id="1452" class="Background">
%&lt;/put-put-law-disp&gt;
</a><a id="1474" class="Markup">\begin{code}</a>
  <a id="1489" class="Keyword">data</a> <a id="Synt.Laws"></a><a id="1494" href="Effects.State.html#1494" class="Datatype">Laws</a> <a id="1499" class="Symbol">:</a> <a id="1501" href="Agda.Primitive.html#326" class="Primitive">Type</a> 
<a id="1507" class="Markup">\end{code}</a><a id="1517" class="Background">
%&lt;*laws&gt;
</a><a id="1527" class="Markup">\begin{code}</a>
  <a id="1542" class="Keyword">data</a> <a id="1547" href="Effects.State.html#1494" class="Datatype">Laws</a> <a id="1552" class="Keyword">where</a> <a id="Synt.Laws.put-put"></a><a id="1558" href="Effects.State.html#1558" class="InductiveConstructor">put-put</a> <a id="Synt.Laws.put-get"></a><a id="1566" href="Effects.State.html#1566" class="InductiveConstructor">put-get</a> <a id="Synt.Laws.get-put"></a><a id="1574" href="Effects.State.html#1574" class="InductiveConstructor">get-put</a> <a id="1582" class="Symbol">:</a> <a id="1584" href="Effects.State.html#1494" class="Datatype">Laws</a>
<a id="1589" class="Markup">\end{code}</a><a id="1599" class="Background">
%&lt;/laws&gt;
%&lt;*eqns-sig&gt;
</a><a id="1622" class="Markup">\begin{code}</a>
  <a id="Synt.Eqns"></a><a id="1637" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="1642" class="Symbol">:</a> <a id="1644" href="Effects.State.html#1494" class="Datatype">Laws</a> <a id="1649" class="Symbol">→</a> <a id="1651" href="Effects.State.html#671" class="Function">Law</a> <a id="1655" href="Effects.State.html#527" class="Function">𝕊</a>
<a id="1657" class="Markup">\end{code}</a><a id="1667" class="Background">
%&lt;/eqns-sig&gt;
%&lt;*put-get&gt;
</a><a id="1693" class="Markup">\begin{code}</a>
  <a id="1708" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="1713" href="Effects.State.html#1566" class="InductiveConstructor">put-get</a> <a id="1721" class="Symbol">.</a><a id="1722" href="FreeMonad.Theory.html#1307" class="Field">Γ</a>  <a id="1725" class="Symbol">=</a> <a id="1727" href="Effects.State.html#229" class="Bound">S</a>
  <a id="1731" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="1736" href="Effects.State.html#1566" class="InductiveConstructor">put-get</a> <a id="1744" class="Symbol">.</a><a id="1745" href="FreeMonad.Theory.html#1328" class="Field">ν</a> <a id="1747" class="Symbol">_</a> <a id="1749" class="Symbol">=</a> <a id="1751" href="Effects.State.html#229" class="Bound">S</a>
<a id="1753" class="Markup">\end{code}</a><a id="1763" class="Background">
%&lt;/put-get&gt;
%&lt;*put-put&gt;
</a><a id="1788" class="Markup">\begin{code}</a>
  <a id="1803" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="1808" href="Effects.State.html#1558" class="InductiveConstructor">put-put</a> <a id="1816" class="Symbol">.</a><a id="1817" href="FreeMonad.Theory.html#1307" class="Field">Γ</a> <a id="1819" class="Symbol">=</a> <a id="1821" href="Effects.State.html#229" class="Bound">S</a> <a id="1823" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="1825" href="Effects.State.html#229" class="Bound">S</a>
  <a id="1829" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="1834" href="Effects.State.html#1558" class="InductiveConstructor">put-put</a> <a id="1842" class="Symbol">.</a><a id="1843" href="FreeMonad.Theory.html#1328" class="Field">ν</a> <a id="1845" class="Symbol">_</a> <a id="1847" class="Symbol">=</a> <a id="1849" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="1851" class="Markup">\end{code}</a><a id="1861" class="Background">
%&lt;/put-put&gt;
%&lt;*get-put&gt;
</a><a id="1886" class="Markup">\begin{code}</a>
  <a id="1901" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="1906" href="Effects.State.html#1574" class="InductiveConstructor">get-put</a> <a id="1914" class="Symbol">.</a><a id="1915" href="FreeMonad.Theory.html#1307" class="Field">Γ</a>  <a id="1918" class="Symbol">=</a> <a id="1920" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="1924" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="1929" href="Effects.State.html#1574" class="InductiveConstructor">get-put</a> <a id="1937" class="Symbol">.</a><a id="1938" href="FreeMonad.Theory.html#1328" class="Field">ν</a> <a id="1940" class="Symbol">_</a> <a id="1942" class="Symbol">=</a> <a id="1944" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="1946" class="Markup">\end{code}</a><a id="1956" class="Background">
%&lt;/get-put&gt;
%&lt;*eqns&gt;
</a><a id="1978" class="Markup">\begin{code}[number=state-laws]</a>
  <a id="2012" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="2017" href="Effects.State.html#1558" class="InductiveConstructor">put-put</a>  <a id="2026" class="Symbol">.</a><a id="2027" href="FreeMonad.Theory.html#1353" class="Field">eqn</a> <a id="2031" class="Symbol">(</a><a id="2032" href="Effects.State.html#2032" class="Bound">s₁</a> <a id="2035" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2037" href="Effects.State.html#2037" class="Bound">s₂</a><a id="2039" class="Symbol">)</a>  <a id="2042" class="Symbol">=</a> <a id="2044" class="Symbol">(</a><a id="2045" class="Keyword">do</a> <a id="2048" href="Effects.State.html#951" class="Function">put</a> <a id="2052" href="Effects.State.html#2032" class="Bound">s₁</a><a id="2054" class="Symbol">;</a> <a id="2056" href="Effects.State.html#951" class="Function">put</a> <a id="2060" href="Effects.State.html#2037" class="Bound">s₂</a><a id="2062" class="Symbol">)</a>  <a id="2065" href="FreeMonad.Theory.html#756" class="InductiveConstructor Operator">≐</a> <a id="2067" class="Symbol">(</a><a id="2068" class="Keyword">do</a> <a id="2071" href="Effects.State.html#951" class="Function">put</a> <a id="2075" href="Effects.State.html#2037" class="Bound">s₂</a><a id="2077" class="Symbol">)</a>
  <a id="2081" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="2086" href="Effects.State.html#1566" class="InductiveConstructor">put-get</a>  <a id="2095" class="Symbol">.</a><a id="2096" href="FreeMonad.Theory.html#1353" class="Field">eqn</a> <a id="2100" href="Effects.State.html#2100" class="Bound">s</a>          <a id="2111" class="Symbol">=</a> <a id="2113" class="Symbol">(</a><a id="2114" class="Keyword">do</a> <a id="2117" href="Effects.State.html#951" class="Function">put</a> <a id="2121" href="Effects.State.html#2100" class="Bound">s</a><a id="2122" class="Symbol">;</a> <a id="2124" href="Effects.State.html#998" class="Function">get</a><a id="2127" class="Symbol">)</a>      <a id="2134" href="FreeMonad.Theory.html#756" class="InductiveConstructor Operator">≐</a> <a id="2136" class="Symbol">(</a><a id="2137" class="Keyword">do</a> <a id="2140" href="Effects.State.html#951" class="Function">put</a> <a id="2144" href="Effects.State.html#2100" class="Bound">s</a><a id="2145" class="Symbol">;</a> <a id="2147" href="FreeMonad.Syntax.html#2528" class="Function">return</a> <a id="2154" href="Effects.State.html#2100" class="Bound">s</a><a id="2155" class="Symbol">)</a>
  <a id="2159" href="Effects.State.html#1637" class="Function">Eqns</a> <a id="2164" href="Effects.State.html#1574" class="InductiveConstructor">get-put</a>  <a id="2173" class="Symbol">.</a><a id="2174" href="FreeMonad.Theory.html#1353" class="Field">eqn</a> <a id="2178" class="Symbol">_</a>          <a id="2189" class="Symbol">=</a> <a id="2191" class="Symbol">(</a><a id="2192" class="Keyword">do</a> <a id="2195" href="Effects.State.html#2195" class="Bound">s</a> <a id="2197" href="FreeMonad.Syntax.html#2745" class="Function Operator">←</a> <a id="2199" href="Effects.State.html#998" class="Function">get</a><a id="2202" class="Symbol">;</a> <a id="2204" href="Effects.State.html#951" class="Function">put</a> <a id="2208" href="Effects.State.html#2195" class="Bound">s</a><a id="2209" class="Symbol">)</a>  <a id="2212" href="FreeMonad.Theory.html#756" class="InductiveConstructor Operator">≐</a> <a id="2214" class="Symbol">(</a><a id="2215" class="Keyword">do</a> <a id="2218" href="FreeMonad.Syntax.html#2528" class="Function">return</a> <a id="2225" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a><a id="2227" class="Symbol">)</a>
<a id="2229" class="Markup">\end{code}</a><a id="2239" class="Background">
%&lt;/eqns&gt;
%&lt;*state-alg&gt;
</a><a id="2263" class="Markup">\begin{code}[number=state-alg]</a>
  <a id="Synt.state-alg"></a><a id="2296" href="Effects.State.html#2296" class="Function">state-alg</a> <a id="2306" class="Symbol">:</a> <a id="2308" href="Effects.State.html#527" class="Function">𝕊</a> <a id="2310" href="Signatures.html#828" class="Function Operator">-Alg[</a> <a id="2316" class="Symbol">(</a><a id="2317" href="Effects.State.html#229" class="Bound">S</a> <a id="2319" class="Symbol">→</a> <a id="2321" href="Level.html#270" class="Generalizable">A</a> <a id="2323" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="2325" href="Effects.State.html#229" class="Bound">S</a><a id="2326" class="Symbol">)</a> <a id="2328" href="Signatures.html#828" class="Function Operator">]</a>
  <a id="2332" href="Effects.State.html#2296" class="Function">state-alg</a> <a id="2342" class="Symbol">(</a><a id="2343" href="Effects.State.html#367" class="InductiveConstructor">`get</a>     <a id="2352" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2354" href="Effects.State.html#2354" class="Bound">k</a><a id="2355" class="Symbol">)</a> <a id="2357" href="Effects.State.html#2357" class="Bound">s₁</a> <a id="2360" class="Symbol">=</a> <a id="2362" href="Effects.State.html#2354" class="Bound">k</a>  <a id="2365" href="Effects.State.html#2357" class="Bound">s₁</a>  <a id="2369" href="Effects.State.html#2357" class="Bound">s₁</a>
  <a id="2374" href="Effects.State.html#2296" class="Function">state-alg</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="2390" href="Effects.State.html#2390" class="Bound">s₂</a>  <a id="2394" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2396" href="Effects.State.html#2396" class="Bound">k</a><a id="2397" class="Symbol">)</a> <a id="2399" href="Effects.State.html#2399" class="Bound">s₁</a> <a id="2402" class="Symbol">=</a> <a id="2404" href="Effects.State.html#2396" class="Bound">k</a>  <a id="2407" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a>  <a id="2411" href="Effects.State.html#2390" class="Bound">s₂</a>
<a id="2414" class="Markup">\end{code}</a><a id="2424" class="Background">
%&lt;/state-alg&gt;
</a><a id="2439" class="Markup">\begin{code}</a>
  <a id="Synt.runState"></a><a id="2454" href="Effects.State.html#2454" class="Function">runState</a> <a id="2463" class="Symbol">:</a> <a id="2465" href="FreeMonad.Syntax.html#356" class="Datatype">Syntax</a> <a id="2472" href="Effects.State.html#527" class="Function">𝕊</a> <a id="2474" href="Level.html#270" class="Generalizable">A</a> <a id="2476" class="Symbol">→</a> <a id="2478" href="Effects.State.html#229" class="Bound">S</a> <a id="2480" class="Symbol">→</a> <a id="2482" href="Level.html#270" class="Generalizable">A</a> <a id="2484" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="2486" href="Effects.State.html#229" class="Bound">S</a>
  <a id="2490" href="Effects.State.html#2454" class="Function">runState</a> <a id="2499" class="Symbol">=</a> <a id="2501" href="FreeMonad.Syntax.html#1079" class="Function">interp</a> <a id="2508" href="Effects.State.html#2296" class="Function">state-alg</a> <a id="2518" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a>

<a id="2523" class="Keyword">open</a> <a id="2528" href="Effects.State.html#803" class="Module">Synt</a> <a id="2533" class="Keyword">using</a> <a id="2539" class="Symbol">(</a><a id="2540" class="Keyword">module</a> <a id="2547" href="Effects.State.html#1224" class="Module">PutPutLawDisplay</a><a id="2563" class="Symbol">;</a> <a id="2565" href="Effects.State.html#2296" class="Function">state-alg</a><a id="2574" class="Symbol">)</a> <a id="2576" class="Keyword">public</a>

<a id="StateTheory"></a><a id="2584" href="Effects.State.html#2584" class="Function">StateTheory</a> <a id="2596" class="Symbol">:</a> <a id="2598" href="Effects.State.html#729" class="Function">Theory</a> <a id="2605" href="Effects.State.html#527" class="Function">𝕊</a>
<a id="2607" href="Effects.State.html#2584" class="Function">StateTheory</a> <a id="2619" class="Symbol">=</a> <a id="2621" class="Keyword">record</a> <a id="2628" class="Symbol">{</a> <a id="2630" href="Effects.State.html#803" class="Module">Synt</a> <a id="2635" class="Symbol">}</a>


<a id="2639" class="Keyword">module</a> <a id="2646" href="Effects.State.html#2646" class="Module">_</a> <a id="2648" class="Keyword">where</a>
  <a id="2656" class="Keyword">open</a> <a id="2661" href="FinitenessConditions.html#1136" class="Module">SplitQuotientedChoiceAt</a>

  <a id="2688" href="Effects.State.html#2688" class="Function">finiteOps</a> <a id="2698" class="Symbol">:</a> <a id="2700" class="Symbol">∀</a> <a id="2702" href="Effects.State.html#2702" class="Bound">Oᵢ</a> <a id="2705" class="Symbol">→</a> <a id="2707" href="FinitenessConditions.html#3040" class="Function">SplitQuotientedChoiceω</a> <a id="2730" class="Symbol">(</a><a id="2731" href="Effects.State.html#400" class="Function">Arity</a> <a id="2737" href="Effects.State.html#2702" class="Bound">Oᵢ</a><a id="2739" class="Symbol">)</a>
  <a id="2743" href="Effects.State.html#2688" class="Function">finiteOps</a> <a id="2753" href="Effects.State.html#367" class="InductiveConstructor">`get</a> <a id="2758" class="Symbol">=</a> <a id="2760" href="Effects.State.html#242" class="Bound">finiteState</a>
  <a id="2774" href="Effects.State.html#2688" class="Function">finiteOps</a> <a id="2784" class="Symbol">(</a><a id="2785" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="2790" href="Effects.State.html#2790" class="Bound">x</a><a id="2791" class="Symbol">)</a> <a id="2793" class="Symbol">=</a> <a id="2795" href="FinitenessConditions.html#8406" class="Function">quotientedChoice⊤</a>

  <a id="2816" href="Effects.State.html#2816" class="Function">finiteVars</a> <a id="2827" class="Symbol">:</a> <a id="2829" href="FreeMonad.Theory.html#3136" class="Function">FiniteVars</a> <a id="2840" href="Effects.State.html#2584" class="Function">StateTheory</a>
  <a id="2854" href="Effects.State.html#2816" class="Function">finiteVars</a> <a id="2865" href="Effects.State.html#1558" class="InductiveConstructor">Synt.put-put</a> <a id="2878" class="Symbol">_</a> <a id="2880" class="Symbol">=</a> <a id="2882" href="FinitenessConditions.html#8406" class="Function">quotientedChoice⊤</a>
  <a id="2902" href="Effects.State.html#2816" class="Function">finiteVars</a> <a id="2913" href="Effects.State.html#1574" class="InductiveConstructor">Synt.get-put</a> <a id="2926" class="Symbol">_</a> <a id="2928" class="Symbol">=</a> <a id="2930" href="FinitenessConditions.html#8406" class="Function">quotientedChoice⊤</a>
  <a id="2950" href="Effects.State.html#2816" class="Function">finiteVars</a> <a id="2961" href="Effects.State.html#1566" class="InductiveConstructor">Synt.put-get</a> <a id="2974" class="Symbol">_</a> <a id="2976" class="Symbol">=</a> <a id="2978" href="Effects.State.html#242" class="Bound">finiteState</a>
  
<a id="𝕊-theory"></a><a id="2993" href="Effects.State.html#2993" class="Function">𝕊-theory</a> <a id="3002" class="Symbol">=</a> <a id="3004" href="FreeMonad.PackagedTheory.html#218" class="InductiveConstructor">full-theory</a> <a id="3016" href="Effects.State.html#527" class="Function">𝕊</a> <a id="3018" href="Effects.State.html#2584" class="Function">StateTheory</a> <a id="3030" href="Effects.State.html#2688" class="Function">finiteOps</a> <a id="3040" href="Effects.State.html#2816" class="Function">finiteVars</a>

<a id="3052" class="Keyword">open</a> <a id="3057" class="Keyword">import</a> <a id="3064" href="FreeMonad.Quotiented.html" class="Module">FreeMonad.Quotiented</a> <a id="3085" href="Effects.State.html#2993" class="Function">𝕊-theory</a> <a id="3094" class="Keyword">renaming</a> <a id="3103" class="Symbol">(</a><a id="3104" href="FreeMonad.Relation.html#1961" class="Function">Term</a> <a id="3109" class="Symbol">to</a> <a id="3112" class="Function">StateTerm</a><a id="3121" class="Symbol">)</a> <a id="3123" class="Keyword">public</a>

<a id="3131" class="Keyword">open</a> <a id="3136" href="Effects.State.html#803" class="Module">Synt</a> <a id="3141" class="Keyword">using</a> <a id="3147" class="Symbol">(</a><a id="3148" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a><a id="3150" class="Symbol">;</a> <a id="3152" href="FreeMonad.Syntax.html#407" class="InductiveConstructor">var</a><a id="3155" class="Symbol">)</a>
<a id="Term"></a><a id="3157" href="Effects.State.html#3157" class="Function">Term</a> <a id="3162" class="Symbol">=</a> <a id="3164" href="Effects.State.html#3112" class="Function">StateTerm</a>

<a id="State"></a><a id="3175" href="Effects.State.html#3175" class="Function">State</a> <a id="3181" class="Symbol">:</a> <a id="3183" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="3188" href="Level.html#254" class="Generalizable">a</a> <a id="3190" class="Symbol">→</a> <a id="3192" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="3197" class="Symbol">_</a>
<a id="3199" href="Effects.State.html#3175" class="Function">State</a> <a id="3205" class="Symbol">=</a> <a id="3207" href="Effects.State.html#3112" class="Function">StateTerm</a>

<a id="get"></a><a id="3218" href="Effects.State.html#3218" class="Function">get</a> <a id="3222" class="Symbol">:</a> <a id="3224" href="Effects.State.html#3157" class="Function">Term</a> <a id="3229" href="Effects.State.html#229" class="Bound">S</a>
<a id="3231" href="Effects.State.html#3218" class="Function">get</a> <a id="3235" class="Symbol">=</a> <a id="3237" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="3239" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a> <a id="3242" class="Symbol">(</a><a id="3243" href="Effects.State.html#367" class="InductiveConstructor">`get</a> <a id="3248" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3250" href="FreeMonad.Syntax.html#407" class="InductiveConstructor">var</a><a id="3253" class="Symbol">)</a> <a id="3255" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a>

<a id="put"></a><a id="3258" href="Effects.State.html#3258" class="Function">put</a> <a id="3262" class="Symbol">:</a> <a id="3264" href="Effects.State.html#229" class="Bound">S</a> <a id="3266" class="Symbol">→</a> <a id="3268" href="Effects.State.html#3157" class="Function">Term</a> <a id="3273" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="3275" href="Effects.State.html#3258" class="Function">put</a> <a id="3279" href="Effects.State.html#3279" class="Bound">s</a> <a id="3281" class="Symbol">=</a> <a id="3283" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="3285" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a> <a id="3288" class="Symbol">(</a><a id="3289" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="3294" href="Effects.State.html#3279" class="Bound">s</a> <a id="3296" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3298" href="FreeMonad.Syntax.html#407" class="InductiveConstructor">var</a><a id="3301" class="Symbol">)</a> <a id="3303" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a>

<a id="put-put′"></a><a id="3306" href="Effects.State.html#3306" class="Function">put-put′</a> <a id="3315" class="Symbol">:</a> <a id="3317" class="Symbol">∀</a> <a id="3319" href="Effects.State.html#3319" class="Bound">s₁</a> <a id="3322" href="Effects.State.html#3322" class="Bound">s₂</a> <a id="3325" class="Symbol">→</a> <a id="3327" class="Symbol">(</a><a id="3328" class="Keyword">do</a> <a id="3331" href="Effects.State.html#3258" class="Function">put</a> <a id="3335" href="Effects.State.html#3319" class="Bound">s₁</a><a id="3337" class="Symbol">;</a> <a id="3339" href="Effects.State.html#3258" class="Function">put</a> <a id="3343" href="Effects.State.html#3322" class="Bound">s₂</a><a id="3345" class="Symbol">)</a> <a id="3347" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="3349" class="Symbol">(</a><a id="3350" class="Keyword">do</a> <a id="3353" href="Effects.State.html#3258" class="Function">put</a> <a id="3357" href="Effects.State.html#3322" class="Bound">s₂</a><a id="3359" class="Symbol">)</a>
<a id="3361" href="Effects.State.html#3306" class="Function">put-put′</a> <a id="3370" href="Effects.State.html#3370" class="Bound">s₁</a> <a id="3373" href="Effects.State.html#3373" class="Bound">s₂</a> <a id="3376" class="Symbol">=</a> <a id="3378" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="3382" class="Symbol">_</a> <a id="3384" class="Symbol">_</a> <a id="3386" class="Symbol">(</a><a id="3387" href="FreeMonad.Relation.html#4112" class="Function">lawₜ</a> <a id="3392" href="Effects.State.html#1558" class="InductiveConstructor">Synt.put-put</a> <a id="3405" class="Symbol">(</a><a id="3406" href="Effects.State.html#3370" class="Bound">s₁</a> <a id="3409" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3411" href="Effects.State.html#3373" class="Bound">s₂</a><a id="3413" class="Symbol">))</a>

<a id="modify"></a><a id="3417" href="Effects.State.html#3417" class="Function">modify</a> <a id="3424" class="Symbol">:</a> <a id="3426" class="Symbol">(</a><a id="3427" href="Effects.State.html#229" class="Bound">S</a> <a id="3429" class="Symbol">→</a> <a id="3431" href="Effects.State.html#229" class="Bound">S</a><a id="3432" class="Symbol">)</a> <a id="3434" class="Symbol">→</a> <a id="3436" href="Effects.State.html#3157" class="Function">Term</a> <a id="3441" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="3443" href="Effects.State.html#3417" class="Function">modify</a> <a id="3450" href="Effects.State.html#3450" class="Bound">f</a> <a id="3452" class="Symbol">=</a> <a id="3454" class="Keyword">do</a> <a id="3457" href="Effects.State.html#3457" class="Bound">s</a> <a id="3459" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="3461" href="Effects.State.html#3218" class="Function">get</a><a id="3464" class="Symbol">;</a> <a id="3466" href="Effects.State.html#3258" class="Function">put</a> <a id="3470" class="Symbol">(</a><a id="3471" href="Effects.State.html#3450" class="Bound">f</a> <a id="3473" href="Effects.State.html#3457" class="Bound">s</a><a id="3474" class="Symbol">)</a>

<a id="put-put"></a><a id="3477" href="Effects.State.html#3477" class="Function">put-put</a> <a id="3485" class="Symbol">:</a> <a id="3487" class="Symbol">∀</a> <a id="3489" href="Effects.State.html#3489" class="Bound">s₁</a> <a id="3492" href="Effects.State.html#3492" class="Bound">s₂</a> <a id="3495" class="Symbol">(</a><a id="3496" href="Effects.State.html#3496" class="Bound">k</a> <a id="3498" class="Symbol">:</a> <a id="3500" href="Effects.State.html#3157" class="Function">Term</a> <a id="3505" href="Level.html#270" class="Generalizable">A</a><a id="3506" class="Symbol">)</a> <a id="3508" class="Symbol">→</a> <a id="3510" class="Symbol">(</a><a id="3511" class="Keyword">do</a> <a id="3514" href="Effects.State.html#3258" class="Function">put</a> <a id="3518" href="Effects.State.html#3489" class="Bound">s₁</a><a id="3520" class="Symbol">;</a> <a id="3522" href="Effects.State.html#3258" class="Function">put</a> <a id="3526" href="Effects.State.html#3492" class="Bound">s₂</a><a id="3528" class="Symbol">;</a> <a id="3530" href="Effects.State.html#3496" class="Bound">k</a><a id="3531" class="Symbol">)</a> <a id="3533" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="3535" class="Symbol">(</a><a id="3536" class="Keyword">do</a> <a id="3539" href="Effects.State.html#3258" class="Function">put</a> <a id="3543" href="Effects.State.html#3492" class="Bound">s₂</a><a id="3545" class="Symbol">;</a> <a id="3547" href="Effects.State.html#3496" class="Bound">k</a><a id="3548" class="Symbol">)</a>
<a id="3550" href="Effects.State.html#3477" class="Function">put-put</a> <a id="3558" href="Effects.State.html#3558" class="Bound">s₁</a> <a id="3561" href="Effects.State.html#3561" class="Bound">s₂</a> <a id="3564" href="Effects.State.html#3564" class="Bound">k</a> <a id="3566" class="Symbol">=</a> <a id="3568" href="Cubical.Foundations.Id.html#772" class="Function">cong</a> <a id="3573" class="Symbol">(λ</a> <a id="3576" href="Effects.State.html#3576" class="Bound">p</a> <a id="3578" class="Symbol">→</a> <a id="3580" class="Keyword">do</a> <a id="3583" href="Effects.State.html#3576" class="Bound">p</a> <a id="3585" class="Symbol">;</a> <a id="3587" href="Effects.State.html#3564" class="Bound">k</a><a id="3588" class="Symbol">)</a> <a id="3590" class="Symbol">(</a><a id="3591" href="Effects.State.html#3306" class="Function">put-put′</a> <a id="3600" href="Effects.State.html#3558" class="Bound">s₁</a> <a id="3603" href="Effects.State.html#3561" class="Bound">s₂</a><a id="3605" class="Symbol">)</a>

<a id="3608" class="Markup">\end{code}</a><a id="3618" class="Background">
%&lt;*get-put&gt;
</a><a id="3631" class="Markup">\begin{code}</a>
<a id="get-put"></a><a id="3644" href="Effects.State.html#3644" class="Function">get-put</a> <a id="3652" class="Symbol">:</a>
  <a id="3656" class="Symbol">∀</a> <a id="3658" class="Symbol">(</a><a id="3659" href="Effects.State.html#3659" class="Bound">k</a> <a id="3661" class="Symbol">:</a> <a id="3663" href="Effects.State.html#3175" class="Function">State</a> <a id="3669" href="Level.html#270" class="Generalizable">A</a><a id="3670" class="Symbol">)</a>
  <a id="3674" class="Symbol">→</a> <a id="3676" class="Symbol">(</a><a id="3677" class="Keyword">do</a> <a id="3680" href="Effects.State.html#3680" class="Bound">s</a> <a id="3682" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="3684" href="Effects.State.html#3218" class="Function">get</a>
        <a id="3696" href="Effects.State.html#3258" class="Function">put</a> <a id="3700" href="Effects.State.html#3680" class="Bound">s</a>
        <a id="3710" href="Effects.State.html#3659" class="Bound">k</a><a id="3711" class="Symbol">)</a> <a id="3713" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="3715" href="Effects.State.html#3659" class="Bound">k</a>
<a id="3717" class="Markup">\end{code}</a><a id="3727" class="Background">
%&lt;/get-put&gt;
</a><a id="3740" class="Markup">\begin{code}</a>
<a id="3753" href="Effects.State.html#3644" class="Function">get-put</a> <a id="3761" href="Effects.State.html#3761" class="Bound">k</a> <a id="3763" class="Symbol">=</a> <a id="3765" href="Cubical.Foundations.Id.html#772" class="Function">cong</a> <a id="3770" class="Symbol">(</a><a id="3771" href="FreeMonad.Quotiented.html#5772" class="Function Operator">_&gt;&gt;</a> <a id="3775" href="Effects.State.html#3761" class="Bound">k</a><a id="3776" class="Symbol">)</a> <a id="3778" class="Symbol">(</a><a id="3779" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="3783" class="Symbol">_</a> <a id="3785" class="Symbol">_</a> <a id="3787" class="Symbol">(</a><a id="3788" href="FreeMonad.Relation.html#4112" class="Function">lawₜ</a> <a id="3793" href="Effects.State.html#1574" class="InductiveConstructor">Synt.get-put</a> <a id="3806" class="Symbol">_))</a>

<a id="put-get"></a><a id="3811" href="Effects.State.html#3811" class="Function">put-get</a> <a id="3819" class="Symbol">:</a> <a id="3821" class="Symbol">∀</a> <a id="3823" href="Effects.State.html#3823" class="Bound">s</a> <a id="3825" class="Symbol">(</a><a id="3826" href="Effects.State.html#3826" class="Bound">k</a> <a id="3828" class="Symbol">:</a> <a id="3830" href="Effects.State.html#229" class="Bound">S</a> <a id="3832" class="Symbol">→</a> <a id="3834" href="Effects.State.html#3175" class="Function">State</a> <a id="3840" href="Level.html#270" class="Generalizable">A</a><a id="3841" class="Symbol">)</a> <a id="3843" class="Symbol">→</a> <a id="3845" class="Symbol">(</a><a id="3846" class="Keyword">do</a> <a id="3849" href="Effects.State.html#3258" class="Function">put</a> <a id="3853" href="Effects.State.html#3823" class="Bound">s</a><a id="3854" class="Symbol">;</a> <a id="3856" href="Effects.State.html#3856" class="Bound">s′</a> <a id="3859" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="3861" href="Effects.State.html#3218" class="Function">get</a><a id="3864" class="Symbol">;</a> <a id="3866" href="Effects.State.html#3826" class="Bound">k</a> <a id="3868" href="Effects.State.html#3856" class="Bound">s′</a><a id="3870" class="Symbol">)</a> <a id="3872" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="3874" class="Symbol">(</a><a id="3875" class="Keyword">do</a> <a id="3878" href="Effects.State.html#3258" class="Function">put</a> <a id="3882" href="Effects.State.html#3823" class="Bound">s</a><a id="3883" class="Symbol">;</a> <a id="3885" href="Effects.State.html#3826" class="Bound">k</a> <a id="3887" href="Effects.State.html#3823" class="Bound">s</a><a id="3888" class="Symbol">)</a>
<a id="3890" href="Effects.State.html#3811" class="Function">put-get</a> <a id="3898" href="Effects.State.html#3898" class="Bound">s</a> <a id="3900" href="Effects.State.html#3900" class="Bound">k</a> <a id="3902" class="Symbol">=</a> <a id="3904" href="Cubical.Foundations.Id.html#772" class="Function">cong</a> <a id="3909" class="Symbol">(λ</a> <a id="3912" href="Effects.State.html#3912" class="Bound">p</a> <a id="3914" class="Symbol">→</a> <a id="3916" class="Keyword">do</a> <a id="3919" href="Effects.State.html#3919" class="Bound">r</a> <a id="3921" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="3923" href="Effects.State.html#3912" class="Bound">p</a><a id="3924" class="Symbol">;</a> <a id="3926" href="Effects.State.html#3900" class="Bound">k</a> <a id="3928" href="Effects.State.html#3919" class="Bound">r</a><a id="3929" class="Symbol">)</a> <a id="3931" class="Symbol">(</a><a id="3932" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="3936" class="Symbol">_</a> <a id="3938" class="Symbol">_</a> <a id="3940" class="Symbol">(</a><a id="3941" href="FreeMonad.Relation.html#4112" class="Function">lawₜ</a> <a id="3946" href="Effects.State.html#1566" class="InductiveConstructor">Synt.put-get</a> <a id="3959" href="Effects.State.html#3898" class="Bound">s</a><a id="3960" class="Symbol">))</a>

<a id="get-put-get"></a><a id="3964" href="Effects.State.html#3964" class="Function">get-put-get</a> <a id="3976" class="Symbol">:</a> <a id="3978" class="Symbol">(</a><a id="3979" href="Effects.State.html#3979" class="Bound">k</a> <a id="3981" class="Symbol">:</a> <a id="3983" href="Effects.State.html#229" class="Bound">S</a> <a id="3985" class="Symbol">→</a> <a id="3987" href="Effects.State.html#3175" class="Function">State</a> <a id="3993" href="Level.html#270" class="Generalizable">A</a><a id="3994" class="Symbol">)</a> <a id="3996" class="Symbol">→</a> <a id="3998" class="Symbol">(</a><a id="3999" class="Keyword">do</a> <a id="4002" href="Effects.State.html#4002" class="Bound">s</a> <a id="4004" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4006" href="Effects.State.html#3218" class="Function">get</a><a id="4009" class="Symbol">;</a> <a id="4011" href="Effects.State.html#3258" class="Function">put</a> <a id="4015" href="Effects.State.html#4002" class="Bound">s</a><a id="4016" class="Symbol">;</a> <a id="4018" href="Effects.State.html#3979" class="Bound">k</a> <a id="4020" href="Effects.State.html#4002" class="Bound">s</a><a id="4021" class="Symbol">)</a> <a id="4023" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="4025" class="Symbol">(</a><a id="4026" class="Keyword">do</a> <a id="4029" href="Effects.State.html#4029" class="Bound">s</a> <a id="4031" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4033" href="Effects.State.html#3218" class="Function">get</a><a id="4036" class="Symbol">;</a> <a id="4038" href="Effects.State.html#3979" class="Bound">k</a> <a id="4040" href="Effects.State.html#4029" class="Bound">s</a><a id="4041" class="Symbol">)</a>
<a id="4043" href="Effects.State.html#3964" class="Function">get-put-get</a> <a id="4055" href="Effects.State.html#4055" class="Bound">k</a> <a id="4057" class="Symbol">=</a>   <a id="4061" class="Symbol">(</a><a id="4062" class="Keyword">do</a> <a id="4065" href="Effects.State.html#4065" class="Bound">s</a> <a id="4067" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4069" href="Effects.State.html#3218" class="Function">get</a>
                      <a id="4095" href="Effects.State.html#3258" class="Function">put</a> <a id="4099" href="Effects.State.html#4065" class="Bound">s</a>
                      <a id="4123" href="Effects.State.html#4055" class="Bound">k</a> <a id="4125" href="Effects.State.html#4065" class="Bound">s</a><a id="4126" class="Symbol">)</a>

                                      <a id="4167" href="Path.Reasoning.html#574" class="Function Operator">≡⟨⟩</a>
                 
                  <a id="4207" class="Symbol">(</a><a id="4208" class="Keyword">do</a> <a id="4211" href="Effects.State.html#4211" class="Bound">s</a> <a id="4213" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4215" href="Effects.State.html#3218" class="Function">get</a>
                      <a id="4241" href="Effects.State.html#3258" class="Function">put</a> <a id="4245" href="Effects.State.html#4211" class="Bound">s</a>
                      <a id="4269" href="Effects.State.html#4269" class="Bound">s′</a> <a id="4272" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4274" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="4281" href="Effects.State.html#4211" class="Bound">s</a>
                      <a id="4305" href="Effects.State.html#4055" class="Bound">k</a> <a id="4307" href="Effects.State.html#4269" class="Bound">s′</a><a id="4309" class="Symbol">)</a>

                                      <a id="4350" href="Path.Reasoning.html#157" class="Function">≡˘⟨</a> <a id="4354" href="Effects.State.html#4354" class="Bound">s</a> <a id="4356" href="FreeMonad.Quotiented.html#9703" class="Function">⇐</a> <a id="4358" href="Effects.State.html#3218" class="Function">get</a> <a id="4362" href="FreeMonad.Quotiented.html#9703" class="Function">;/</a> <a id="4365" href="Effects.State.html#3811" class="Function">put-get</a> <a id="4373" href="Effects.State.html#4354" class="Bound">s</a> <a id="4375" href="Effects.State.html#4055" class="Bound">k</a> <a id="4377" href="Path.Reasoning.html#157" class="Function">⟩</a>
                 
                  <a id="4415" class="Symbol">(</a><a id="4416" class="Keyword">do</a> <a id="4419" href="Effects.State.html#4419" class="Bound">s</a> <a id="4421" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4423" href="Effects.State.html#3218" class="Function">get</a>
                      <a id="4449" href="Effects.State.html#3258" class="Function">put</a> <a id="4453" href="Effects.State.html#4419" class="Bound">s</a>
                      <a id="4477" href="Effects.State.html#4477" class="Bound">s′</a> <a id="4480" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4482" href="Effects.State.html#3218" class="Function">get</a>
                      <a id="4508" href="Effects.State.html#4055" class="Bound">k</a> <a id="4510" href="Effects.State.html#4477" class="Bound">s′</a><a id="4512" class="Symbol">)</a>

                                      <a id="4553" href="Path.Reasoning.html#298" class="Function">≡⟨</a> <a id="4556" href="Effects.State.html#3644" class="Function">get-put</a> <a id="4564" class="Symbol">(</a><a id="4565" href="Effects.State.html#3218" class="Function">get</a> <a id="4569" href="FreeMonad.Quotiented.html#5654" class="Function Operator">&gt;&gt;=</a> <a id="4573" href="Effects.State.html#4055" class="Bound">k</a><a id="4574" class="Symbol">)</a> <a id="4576" href="Path.Reasoning.html#298" class="Function">⟩</a>
                 
                  <a id="4614" class="Symbol">(</a><a id="4615" class="Keyword">do</a> <a id="4618" href="Effects.State.html#4618" class="Bound">s</a> <a id="4620" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4622" href="Effects.State.html#3218" class="Function">get</a>
                      <a id="4648" href="Effects.State.html#4055" class="Bound">k</a> <a id="4650" href="Effects.State.html#4618" class="Bound">s</a><a id="4651" class="Symbol">)</a> <a id="4653" href="Path.Reasoning.html#642" class="Function Operator">∎</a>

<a id="get-get"></a><a id="4656" href="Effects.State.html#4656" class="Function">get-get</a> <a id="4664" class="Symbol">:</a> <a id="4666" class="Symbol">∀</a>  <a id="4669" class="Symbol">(</a><a id="4670" href="Effects.State.html#4670" class="Bound">k</a> <a id="4672" class="Symbol">:</a> <a id="4674" href="Effects.State.html#229" class="Bound">S</a> <a id="4676" class="Symbol">→</a> <a id="4678" href="Effects.State.html#229" class="Bound">S</a> <a id="4680" class="Symbol">→</a> <a id="4682" href="Effects.State.html#3175" class="Function">State</a> <a id="4688" href="Level.html#284" class="Generalizable">B</a><a id="4689" class="Symbol">)</a> <a id="4691" class="Symbol">→</a>
             <a id="4706" class="Symbol">(</a><a id="4707" class="Keyword">do</a> <a id="4710" href="Effects.State.html#4710" class="Bound">s₁</a> <a id="4713" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4715" href="Effects.State.html#3218" class="Function">get</a>
                 <a id="4736" href="Effects.State.html#4736" class="Bound">s₂</a> <a id="4739" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4741" href="Effects.State.html#3218" class="Function">get</a>
                 <a id="4762" href="Effects.State.html#4670" class="Bound">k</a> <a id="4764" href="Effects.State.html#4710" class="Bound">s₁</a> <a id="4767" href="Effects.State.html#4736" class="Bound">s₂</a><a id="4769" class="Symbol">)</a>  <a id="4772" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="4774" class="Symbol">(</a><a id="4775" class="Keyword">do</a> <a id="4778" href="Effects.State.html#4778" class="Bound">s</a> <a id="4780" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4782" href="Effects.State.html#3218" class="Function">get</a>
                                 <a id="4819" href="Effects.State.html#4670" class="Bound">k</a> <a id="4821" href="Effects.State.html#4778" class="Bound">s</a> <a id="4823" href="Effects.State.html#4778" class="Bound">s</a><a id="4824" class="Symbol">)</a>

<a id="4827" href="Effects.State.html#4656" class="Function">get-get</a> <a id="4835" href="Effects.State.html#4835" class="Bound">k</a> <a id="4837" class="Symbol">=</a>

  <a id="4842" class="Symbol">(</a><a id="4843" class="Keyword">do</a> <a id="4846" href="Effects.State.html#4846" class="Bound">s₁</a> <a id="4849" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4851" href="Effects.State.html#3218" class="Function">get</a>
      <a id="4861" href="Effects.State.html#4861" class="Bound">s₂</a> <a id="4864" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4866" href="Effects.State.html#3218" class="Function">get</a>
      <a id="4876" href="Effects.State.html#4835" class="Bound">k</a> <a id="4878" href="Effects.State.html#4846" class="Bound">s₁</a> <a id="4881" href="Effects.State.html#4861" class="Bound">s₂</a><a id="4883" class="Symbol">)</a>          <a id="4894" href="Path.Reasoning.html#157" class="Function">≡˘⟨</a> <a id="4898" href="Effects.State.html#3644" class="Function">get-put</a> <a id="4906" class="Symbol">_</a> <a id="4908" href="Path.Reasoning.html#157" class="Function">⟩</a>

  <a id="4913" class="Symbol">(</a><a id="4914" class="Keyword">do</a> <a id="4917" href="Effects.State.html#4917" class="Bound">s</a> <a id="4919" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4921" href="Effects.State.html#3218" class="Function">get</a>
      <a id="4931" href="Effects.State.html#3258" class="Function">put</a> <a id="4935" href="Effects.State.html#4917" class="Bound">s</a>
      <a id="4943" href="Effects.State.html#4943" class="Bound">s₁</a> <a id="4946" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4948" href="Effects.State.html#3218" class="Function">get</a>
      <a id="4958" href="Effects.State.html#4958" class="Bound">s₂</a> <a id="4961" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="4963" href="Effects.State.html#3218" class="Function">get</a>
      <a id="4973" href="Effects.State.html#4835" class="Bound">k</a> <a id="4975" href="Effects.State.html#4943" class="Bound">s₁</a> <a id="4978" href="Effects.State.html#4958" class="Bound">s₂</a><a id="4980" class="Symbol">)</a>          <a id="4991" href="Path.Reasoning.html#298" class="Function">≡⟨</a> <a id="4994" href="Effects.State.html#4994" class="Bound">s</a> <a id="4996" href="FreeMonad.Quotiented.html#9703" class="Function">⇐</a> <a id="4998" href="Effects.State.html#3218" class="Function">get</a> <a id="5002" href="FreeMonad.Quotiented.html#9703" class="Function">;/</a> <a id="5005" href="Effects.State.html#3811" class="Function">put-get</a> <a id="5013" href="Effects.State.html#4994" class="Bound">s</a> <a id="5015" class="Symbol">_</a> <a id="5017" href="Path.Reasoning.html#298" class="Function">⟩</a>

  <a id="5022" class="Symbol">(</a><a id="5023" class="Keyword">do</a> <a id="5026" href="Effects.State.html#5026" class="Bound">s₁</a> <a id="5029" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="5031" href="Effects.State.html#3218" class="Function">get</a>
      <a id="5041" href="Effects.State.html#3258" class="Function">put</a> <a id="5045" href="Effects.State.html#5026" class="Bound">s₁</a>
      <a id="5054" href="Effects.State.html#5054" class="Bound">s₂</a> <a id="5057" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="5059" href="Effects.State.html#3218" class="Function">get</a>
      <a id="5069" href="Effects.State.html#4835" class="Bound">k</a> <a id="5071" href="Effects.State.html#5026" class="Bound">s₁</a> <a id="5074" href="Effects.State.html#5054" class="Bound">s₂</a><a id="5076" class="Symbol">)</a>          <a id="5087" href="Path.Reasoning.html#298" class="Function">≡⟨</a> <a id="5090" href="Effects.State.html#5090" class="Bound">s₁</a> <a id="5093" href="FreeMonad.Quotiented.html#9703" class="Function">⇐</a> <a id="5095" href="Effects.State.html#3218" class="Function">get</a> <a id="5099" href="FreeMonad.Quotiented.html#9703" class="Function">;/</a> <a id="5102" href="Effects.State.html#3811" class="Function">put-get</a> <a id="5110" href="Effects.State.html#5090" class="Bound">s₁</a> <a id="5113" class="Symbol">_</a> <a id="5115" href="Path.Reasoning.html#298" class="Function">⟩</a>

  <a id="5120" class="Symbol">(</a><a id="5121" class="Keyword">do</a> <a id="5124" href="Effects.State.html#5124" class="Bound">s</a> <a id="5126" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="5128" href="Effects.State.html#3218" class="Function">get</a>
      <a id="5138" href="Effects.State.html#3258" class="Function">put</a> <a id="5142" href="Effects.State.html#5124" class="Bound">s</a>
      <a id="5150" href="Effects.State.html#4835" class="Bound">k</a> <a id="5152" href="Effects.State.html#5124" class="Bound">s</a> <a id="5154" href="Effects.State.html#5124" class="Bound">s</a><a id="5155" class="Symbol">)</a>            <a id="5168" href="Path.Reasoning.html#298" class="Function">≡⟨</a> <a id="5171" href="Effects.State.html#3964" class="Function">get-put-get</a> <a id="5183" class="Symbol">_</a> <a id="5185" href="Path.Reasoning.html#298" class="Function">⟩</a>

  <a id="5190" class="Symbol">(</a><a id="5191" class="Keyword">do</a> <a id="5194" href="Effects.State.html#5194" class="Bound">s</a> <a id="5196" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="5198" href="Effects.State.html#3218" class="Function">get</a>
      <a id="5208" href="Effects.State.html#4835" class="Bound">k</a> <a id="5210" href="Effects.State.html#5194" class="Bound">s</a> <a id="5212" href="Effects.State.html#5194" class="Bound">s</a><a id="5213" class="Symbol">)</a> <a id="5215" href="Path.Reasoning.html#642" class="Function Operator">∎</a>

<a id="get-nop"></a><a id="5218" href="Effects.State.html#5218" class="Function">get-nop</a> <a id="5226" class="Symbol">:</a> <a id="5228" class="Symbol">(</a><a id="5229" href="Effects.State.html#5229" class="Bound">k</a> <a id="5231" class="Symbol">:</a> <a id="5233" href="Effects.State.html#3175" class="Function">State</a> <a id="5239" href="Level.html#270" class="Generalizable">A</a><a id="5240" class="Symbol">)</a> <a id="5242" class="Symbol">→</a> <a id="5244" class="Symbol">(</a><a id="5245" href="Effects.State.html#3218" class="Function">get</a> <a id="5249" href="FreeMonad.Quotiented.html#5772" class="Function Operator">&gt;&gt;</a> <a id="5252" href="Effects.State.html#5229" class="Bound">k</a><a id="5253" class="Symbol">)</a> <a id="5255" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="5257" href="Effects.State.html#5229" class="Bound">k</a>
<a id="5259" href="Effects.State.html#5218" class="Function">get-nop</a> <a id="5267" href="Effects.State.html#5267" class="Bound">k</a> <a id="5269" class="Symbol">=</a>

  <a id="5274" class="Symbol">(</a><a id="5275" class="Keyword">do</a> <a id="5278" href="Effects.State.html#3218" class="Function">get</a>
      <a id="5288" href="Effects.State.html#5267" class="Bound">k</a><a id="5289" class="Symbol">)</a>                  <a id="5308" href="Path.Reasoning.html#157" class="Function">≡˘⟨</a> <a id="5312" href="Effects.State.html#3964" class="Function">get-put-get</a> <a id="5324" class="Symbol">(λ</a> <a id="5327" href="Effects.State.html#5327" class="Bound">_</a> <a id="5329" class="Symbol">→</a> <a id="5331" href="Effects.State.html#5267" class="Bound">k</a><a id="5332" class="Symbol">)</a> <a id="5334" href="Path.Reasoning.html#157" class="Function">⟩</a>

  <a id="5339" class="Symbol">(</a><a id="5340" class="Keyword">do</a> <a id="5343" href="Effects.State.html#5343" class="Bound">s</a> <a id="5345" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="5347" href="Effects.State.html#3218" class="Function">get</a>
      <a id="5357" href="Effects.State.html#3258" class="Function">put</a> <a id="5361" href="Effects.State.html#5343" class="Bound">s</a>
      <a id="5369" href="Effects.State.html#5267" class="Bound">k</a><a id="5370" class="Symbol">)</a>                  <a id="5389" href="Path.Reasoning.html#298" class="Function">≡⟨</a> <a id="5392" href="Effects.State.html#3644" class="Function">get-put</a> <a id="5400" href="Effects.State.html#5267" class="Bound">k</a> <a id="5402" href="Path.Reasoning.html#298" class="Function">⟩</a>

  <a id="5407" href="Effects.State.html#5267" class="Bound">k</a> <a id="5409" href="Path.Reasoning.html#642" class="Function Operator">∎</a>

<a id="5412" class="Markup">\end{code}</a><a id="5422" class="Background">
%&lt;*toState&gt;
</a><a id="5435" class="Markup">\begin{code}</a>
<a id="toState"></a><a id="5448" href="Effects.State.html#5448" class="Function">toState</a> <a id="5456" class="Symbol">:</a> <a id="5458" class="Symbol">(</a><a id="5459" href="Effects.State.html#229" class="Bound">S</a> <a id="5461" class="Symbol">→</a> <a id="5463" href="Level.html#270" class="Generalizable">A</a> <a id="5465" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="5467" href="Effects.State.html#229" class="Bound">S</a><a id="5468" class="Symbol">)</a> <a id="5470" class="Symbol">→</a> <a id="5472" href="Effects.State.html#3157" class="Function">Term</a> <a id="5477" href="Level.html#270" class="Generalizable">A</a>
<a id="5479" href="Effects.State.html#5448" class="Function">toState</a> <a id="5487" href="Effects.State.html#5487" class="Bound">k</a> <a id="5489" class="Symbol">=</a> <a id="5491" class="Keyword">do</a> <a id="5494" href="Effects.State.html#5494" class="Bound">s₁</a> <a id="5497" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="5499" href="Effects.State.html#3218" class="Function">get</a>
               <a id="5518" class="Keyword">let</a> <a id="5522" href="Effects.State.html#5522" class="Bound">x</a> <a id="5524" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5526" href="Effects.State.html#5526" class="Bound">s₂</a> <a id="5529" class="Symbol">=</a> <a id="5531" href="Effects.State.html#5487" class="Bound">k</a> <a id="5533" href="Effects.State.html#5494" class="Bound">s₁</a>
               <a id="5551" href="Effects.State.html#3258" class="Function">put</a> <a id="5555" href="Effects.State.html#5526" class="Bound">s₂</a>
               <a id="5573" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="5580" href="Effects.State.html#5522" class="Bound">x</a>
<a id="5582" class="Markup">\end{code}</a><a id="5592" class="Background">
%&lt;/toState&gt;
</a><a id="5605" class="Markup">\begin{code}</a>
<a id="5618" class="Keyword">open</a> <a id="5623" class="Keyword">import</a> <a id="5630" href="Data.Vec.html" class="Module">Data.Vec</a>

<a id="toState-synt"></a><a id="5640" href="Effects.State.html#5640" class="Function">toState-synt</a> <a id="5653" class="Symbol">:</a> <a id="5655" class="Symbol">(</a><a id="5656" href="Effects.State.html#5656" class="Bound">f</a> <a id="5658" class="Symbol">:</a> <a id="5660" href="Effects.State.html#229" class="Bound">S</a> <a id="5662" class="Symbol">→</a> <a id="5664" href="Level.html#270" class="Generalizable">A</a> <a id="5666" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="5668" href="Effects.State.html#229" class="Bound">S</a><a id="5669" class="Symbol">)</a> <a id="5671" class="Symbol">→</a> <a id="5673" href="Effects.State.html#5448" class="Function">toState</a> <a id="5681" href="Effects.State.html#5656" class="Bound">f</a> <a id="5683" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="5685" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="5687" href="Effects.State.html#1037" class="Function">Synt.toState</a> <a id="5700" href="Effects.State.html#5656" class="Bound">f</a> <a id="5702" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a>
<a id="5704" href="Effects.State.html#5640" class="Function">toState-synt</a> <a id="5717" href="Effects.State.html#5717" class="Bound">f</a> <a id="5719" class="Symbol">=</a>
  <a id="5723" href="Cubical.Foundations.Id.html#703" class="Function">sym</a> <a id="5727" class="Symbol">(</a><a id="5728" href="FreeMonad.Quotiented.html#7147" class="Function">syntactic-bind</a> <a id="5743" class="Symbol">_</a> <a id="5745" href="Effects.State.html#998" class="Function">Synt.get</a> <a id="5754" href="Path.html#635" class="Function Operator">;</a> <a id="5756" href="Cubical.Foundations.Id.html#772" class="Function">cong</a> <a id="5761" class="Symbol">(</a><a id="5762" href="Effects.State.html#3218" class="Function">get</a> <a id="5766" href="FreeMonad.Quotiented.html#5654" class="Function Operator">&gt;&gt;=_</a><a id="5770" class="Symbol">)</a> <a id="5772" class="Symbol">(</a><a id="5773" href="Cubical.Foundations.Id.html#807" class="Function">funExt</a> <a id="5780" class="Symbol">(λ</a> <a id="5783" href="Effects.State.html#5783" class="Bound">s</a> <a id="5785" class="Symbol">→</a> <a id="5787" href="FreeMonad.Quotiented.html#7147" class="Function">syntactic-bind</a> <a id="5802" class="Symbol">(λ</a> <a id="5805" href="Effects.State.html#5805" class="Bound">_</a> <a id="5807" class="Symbol">→</a> <a id="5809" href="FreeMonad.Syntax.html#2528" class="Function">Synt.return</a> <a id="5821" class="Symbol">(</a><a id="5822" href="Effects.State.html#5717" class="Bound">f</a> <a id="5824" href="Effects.State.html#5783" class="Bound">s</a> <a id="5826" class="Symbol">.</a><a id="5827" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a><a id="5830" class="Symbol">))</a> <a id="5833" class="Symbol">(</a><a id="5834" href="Effects.State.html#951" class="Function">Synt.put</a> <a id="5843" class="Symbol">(</a><a id="5844" href="Effects.State.html#5717" class="Bound">f</a> <a id="5846" href="Effects.State.html#5783" class="Bound">s</a> <a id="5848" class="Symbol">.</a><a id="5849" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a><a id="5852" class="Symbol">)))))</a>

<a id="5859" class="Keyword">module</a> <a id="5866" href="Effects.State.html#5866" class="Module">_</a> <a id="5868" class="Symbol">(</a><a id="5869" href="Effects.State.html#5869" class="Bound">truncCarrier</a> <a id="5882" class="Symbol">:</a> <a id="5884" href="Cubical.Foundations.Prelude.html#10320" class="Function">isSet</a> <a id="5890" href="Level.html#270" class="Generalizable">A</a><a id="5891" class="Symbol">)</a> <a id="5893" class="Keyword">where</a>
  <a id="5901" class="Keyword">module</a> <a id="5908" href="Effects.State.html#5908" class="Module">_</a> <a id="5910" class="Keyword">where</a>
    <a id="5920" class="Keyword">open</a> <a id="5925" href="Effects.State.html#803" class="Module">Synt</a> <a id="5930" class="Keyword">using</a> <a id="5936" class="Symbol">(</a><a id="5937" href="Effects.State.html#1558" class="InductiveConstructor">put-put</a><a id="5944" class="Symbol">;</a> <a id="5946" href="Effects.State.html#1566" class="InductiveConstructor">put-get</a><a id="5953" class="Symbol">;</a> <a id="5955" href="Effects.State.html#1574" class="InductiveConstructor">get-put</a><a id="5962" class="Symbol">)</a>

    <a id="5969" href="Effects.State.html#5969" class="Function">runState-resp</a> <a id="5983" class="Symbol">:</a> <a id="5985" class="Symbol">(</a><a id="5986" href="Effects.State.html#2296" class="Function">state-alg</a> <a id="5996" class="Symbol">{</a><a id="5997" class="Argument">A</a> <a id="5999" class="Symbol">=</a> <a id="6001" href="Effects.State.html#5890" class="Bound">A</a><a id="6002" class="Symbol">})</a> <a id="6005" href="FreeMonad.Theory.html#2552" class="Function Operator">Models</a> <a id="6012" href="Effects.State.html#2584" class="Function">StateTheory</a>
    <a id="6028" href="Effects.State.html#5969" class="Function">runState-resp</a> <a id="6042" href="Effects.State.html#1558" class="InductiveConstructor">put-put</a> <a id="6050" href="Effects.State.html#6050" class="Bound">t</a> <a id="6052" href="Effects.State.html#6052" class="Bound">k</a> <a id="6054" class="Symbol">=</a> <a id="6056" href="Cubical.Foundations.Id.html#560" class="Function">refl</a>
    <a id="6065" href="Effects.State.html#5969" class="Function">runState-resp</a> <a id="6079" href="Effects.State.html#1566" class="InductiveConstructor">put-get</a> <a id="6087" href="Effects.State.html#6087" class="Bound">t</a> <a id="6089" href="Effects.State.html#6089" class="Bound">k</a> <a id="6091" class="Symbol">=</a> <a id="6093" href="Cubical.Foundations.Id.html#560" class="Function">refl</a>
    <a id="6102" href="Effects.State.html#5969" class="Function">runState-resp</a> <a id="6116" href="Effects.State.html#1574" class="InductiveConstructor">get-put</a> <a id="6124" href="Effects.State.html#6124" class="Bound">t</a> <a id="6126" href="Effects.State.html#6126" class="Bound">k</a> <a id="6128" class="Symbol">=</a> <a id="6130" href="Cubical.Foundations.Id.html#560" class="Function">refl</a>
<a id="6135" class="Markup">\end{code}</a><a id="6145" class="Background">
%&lt;*runState&gt;
</a><a id="6159" class="Markup">\begin{code}</a>
  <a id="6174" href="Effects.State.html#6174" class="Function">runState</a> <a id="6183" class="Symbol">:</a> <a id="6185" href="Effects.State.html#3157" class="Function">Term</a> <a id="6190" href="Effects.State.html#5890" class="Bound">A</a> <a id="6192" class="Symbol">→</a> <a id="6194" class="Symbol">(</a><a id="6195" href="Effects.State.html#229" class="Bound">S</a> <a id="6197" class="Symbol">→</a> <a id="6199" href="Effects.State.html#5890" class="Bound">A</a> <a id="6201" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="6203" href="Effects.State.html#229" class="Bound">S</a><a id="6204" class="Symbol">)</a>
  <a id="6208" href="Effects.State.html#6174" class="Function">runState</a> <a id="6217" class="Symbol">=</a> <a id="6219" href="FreeMonad.Relation.html#5763" class="Function">interpₜ</a>  <a id="6228" href="Effects.State.html#2296" class="Function">state-alg</a>
                      <a id="6260" class="Symbol">(λ</a> <a id="6263" href="Effects.State.html#6263" class="Bound">x</a> <a id="6265" href="Effects.State.html#6265" class="Bound">s</a> <a id="6267" class="Symbol">→</a> <a id="6269" href="Effects.State.html#6263" class="Bound">x</a> <a id="6271" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6273" href="Effects.State.html#6265" class="Bound">s</a><a id="6274" class="Symbol">)</a>
                      <a id="6298" href="Effects.State.html#5969" class="Function">runState-resp</a>
                      <a id="6334" href="Effects.State.html#6383" class="Function">⋯</a>
<a id="6336" class="Markup">\end{code}</a><a id="6346" class="Background">
%&lt;/runState&gt;
</a><a id="6360" class="Markup">\begin{code}</a>
    <a id="6377" class="Keyword">where</a> <a id="6383" href="Effects.State.html#6383" class="Function">⋯</a> <a id="6385" class="Symbol">=</a> <a id="6387" href="Cubical.Foundations.HLevels.html#16864" class="Function">isSetΠ</a> <a id="6394" class="Symbol">λ</a> <a id="6396" href="Effects.State.html#6396" class="Bound">_</a> <a id="6398" class="Symbol">→</a> <a id="6400" href="Cubical.Foundations.HLevels.html#14283" class="Function">isSet×</a> <a id="6407" href="Effects.State.html#5869" class="Bound">truncCarrier</a> <a id="6420" href="Effects.State.html#285" class="Bound">setState</a>

  <a id="6432" href="Effects.State.html#6432" class="Function">rinv</a> <a id="6437" class="Symbol">:</a> <a id="6439" class="Symbol">∀</a> <a id="6441" href="Effects.State.html#6441" class="Bound">p</a> <a id="6443" class="Symbol">→</a> <a id="6445" href="Effects.State.html#6174" class="Function">runState</a> <a id="6454" class="Symbol">(</a><a id="6455" href="Effects.State.html#5448" class="Function">toState</a> <a id="6463" href="Effects.State.html#6441" class="Bound">p</a><a id="6464" class="Symbol">)</a> <a id="6466" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="6468" href="Effects.State.html#6441" class="Bound">p</a>
  <a id="6472" href="Effects.State.html#6472" class="Function">linv</a> <a id="6477" class="Symbol">:</a> <a id="6479" class="Symbol">∀</a> <a id="6481" href="Effects.State.html#6481" class="Bound">p</a> <a id="6483" class="Symbol">→</a> <a id="6485" href="Effects.State.html#5448" class="Function">toState</a> <a id="6493" class="Symbol">(</a><a id="6494" href="Effects.State.html#6174" class="Function">runState</a> <a id="6503" href="Effects.State.html#6481" class="Bound">p</a><a id="6504" class="Symbol">)</a> <a id="6506" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="6508" href="Effects.State.html#6481" class="Bound">p</a>

  <a id="6513" href="Effects.State.html#6432" class="Function">rinv</a> <a id="6518" href="Effects.State.html#6518" class="Bound">f</a> <a id="6520" class="Symbol">=</a> <a id="6522" href="Cubical.Foundations.Id.html#772" class="Function">cong</a> <a id="6527" href="Effects.State.html#6174" class="Function">runState</a> <a id="6536" class="Symbol">(</a><a id="6537" href="Effects.State.html#5640" class="Function">toState-synt</a> <a id="6550" href="Effects.State.html#6518" class="Bound">f</a><a id="6551" class="Symbol">)</a>

  <a id="6556" href="Effects.State.html#6472" class="Function">linv</a> <a id="6561" class="Symbol">=</a>
    <a id="6567" href="HITs.SetQuotients.html#165" class="Function">elimProp/</a>
      <a id="6583" class="Symbol">(λ</a> <a id="6586" href="Effects.State.html#6586" class="Bound">_</a> <a id="6588" class="Symbol">→</a> <a id="6590" href="Cubical.HITs.SetQuotients.Base.html#361" class="InductiveConstructor">squash/</a> <a id="6598" class="Symbol">_</a> <a id="6600" class="Symbol">_)</a>
      <a id="6609" class="Symbol">(</a><a id="6610" href="FreeMonad.Syntax.html#2138" class="Function">Synt.elim-s</a> <a id="6622" class="Symbol">(λ</a> <a id="6625" href="Effects.State.html#6625" class="Bound">xs</a> <a id="6628" class="Symbol">→</a> <a id="6630" href="Effects.State.html#5448" class="Function">toState</a> <a id="6638" class="Symbol">(</a><a id="6639" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="6653" href="Effects.State.html#6625" class="Bound">xs</a><a id="6655" class="Symbol">)</a> <a id="6657" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="6659" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="6661" href="Effects.State.html#6625" class="Bound">xs</a> <a id="6664" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="6665" class="Symbol">)</a> <a id="6667" href="Effects.State.html#6742" class="Function">alg</a><a id="6670" class="Symbol">)</a>
    <a id="6676" class="Keyword">where</a>
    <a id="6686" class="Keyword">open</a> <a id="6691" href="Effects.State.html#803" class="Module">Synt</a> <a id="6696" class="Keyword">renaming</a> <a id="6705" class="Symbol">(</a><a id="6706" href="FreeMonad.Syntax.html#407" class="InductiveConstructor">var</a> <a id="6710" class="Symbol">to</a> <a id="6713" class="InductiveConstructor">var</a><a id="6716" class="Symbol">)</a> <a id="6718" class="Keyword">using</a> <a id="6724" class="Symbol">(</a><a id="6725" href="FreeMonad.Syntax.html#1973" class="Function">DepAlg</a><a id="6731" class="Symbol">;</a> <a id="6733" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a><a id="6735" class="Symbol">)</a>

    <a id="6742" href="Effects.State.html#6742" class="Function">alg</a> <a id="6746" class="Symbol">:</a> <a id="6748" href="FreeMonad.Syntax.html#1973" class="Function">Ψ[</a> <a id="6751" href="Effects.State.html#6751" class="Bound">xs</a> <a id="6754" href="FreeMonad.Syntax.html#1973" class="Function">⦂</a> <a id="6756" href="FreeMonad.Syntax.html#1973" class="Function">Syntax</a> <a id="6763" href="Effects.State.html#5890" class="Bound">A</a> <a id="6765" href="FreeMonad.Syntax.html#1973" class="Function">]</a> <a id="6767" class="Symbol">(</a><a id="6768" href="Effects.State.html#5448" class="Function">toState</a> <a id="6776" class="Symbol">(</a><a id="6777" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="6791" href="Effects.State.html#6751" class="Bound">xs</a><a id="6793" class="Symbol">)</a> <a id="6795" href="Agda.Builtin.Cubical.Path.html#388" class="Function Operator">≡</a> <a id="6797" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="6799" href="Effects.State.html#6751" class="Bound">xs</a> <a id="6802" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="6803" class="Symbol">)</a>

    <a id="6810" href="Effects.State.html#6742" class="Function">alg</a> <a id="6814" class="Symbol">(</a><a id="6815" href="Effects.State.html#6713" class="InductiveConstructor">var</a> <a id="6819" href="Effects.State.html#6819" class="Bound">x</a><a id="6820" class="Symbol">)</a> <a id="6822" class="Symbol">=</a> <a id="6824" href="Effects.State.html#3644" class="Function">get-put</a> <a id="6832" class="Symbol">(</a><a id="6833" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="6840" href="Effects.State.html#6819" class="Bound">x</a><a id="6841" class="Symbol">)</a>

    <a id="6848" href="Effects.State.html#6742" class="Function">alg</a> <a id="6852" class="Symbol">(</a><a id="6853" href="FreeMonad.Syntax.html#1603" class="InductiveConstructor">op</a> <a id="6856" class="Symbol">(</a><a id="6857" href="Effects.State.html#367" class="InductiveConstructor">`get</a> <a id="6862" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6864" href="Effects.State.html#6864" class="Bound">xs</a><a id="6866" class="Symbol">)</a> <a id="6868" href="Effects.State.html#6868" class="Bound">r</a><a id="6869" class="Symbol">)</a> <a id="6871" class="Symbol">=</a>

      <a id="6880" class="Symbol">(</a><a id="6881" class="Keyword">do</a> <a id="6884" href="Effects.State.html#6884" class="Bound">s</a> <a id="6886" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="6888" href="Effects.State.html#3218" class="Function">get</a>
          <a id="6902" class="Keyword">let</a> <a id="6906" href="Effects.State.html#6906" class="Bound">y</a> <a id="6908" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6910" href="Effects.State.html#6910" class="Bound">s′</a> <a id="6913" class="Symbol">=</a> <a id="6915" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="6929" class="Symbol">(</a><a id="6930" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a> <a id="6933" class="Symbol">(</a><a id="6934" href="Effects.State.html#367" class="InductiveConstructor">`get</a> <a id="6939" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6941" href="Effects.State.html#6864" class="Bound">xs</a><a id="6943" class="Symbol">))</a> <a id="6946" href="Effects.State.html#6884" class="Bound">s</a>
          <a id="6958" href="Effects.State.html#3258" class="Function">put</a> <a id="6962" href="Effects.State.html#6910" class="Bound">s′</a>
          <a id="6975" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="6982" href="Effects.State.html#6906" class="Bound">y</a><a id="6983" class="Symbol">)</a>                                         <a id="7025" href="Path.Reasoning.html#574" class="Function Operator">≡⟨⟩</a>

      <a id="7036" class="Symbol">(</a><a id="7037" class="Keyword">do</a> <a id="7040" href="Effects.State.html#7040" class="Bound">s</a> <a id="7042" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="7044" href="Effects.State.html#3218" class="Function">get</a>
          <a id="7058" class="Keyword">let</a> <a id="7062" href="Effects.State.html#7062" class="Bound">y</a> <a id="7064" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7066" href="Effects.State.html#7066" class="Bound">s′</a> <a id="7069" class="Symbol">=</a> <a id="7071" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="7085" class="Symbol">(</a><a id="7086" href="Effects.State.html#6864" class="Bound">xs</a> <a id="7089" href="Effects.State.html#7040" class="Bound">s</a><a id="7090" class="Symbol">)</a> <a id="7092" href="Effects.State.html#7040" class="Bound">s</a>
          <a id="7104" href="Effects.State.html#3258" class="Function">put</a> <a id="7108" href="Effects.State.html#7066" class="Bound">s′</a>
          <a id="7121" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="7128" href="Effects.State.html#7062" class="Bound">y</a><a id="7129" class="Symbol">)</a>                                         <a id="7171" href="Path.Reasoning.html#157" class="Function">≡˘⟨</a> <a id="7175" href="Effects.State.html#4656" class="Function">get-get</a> <a id="7183" class="Symbol">_</a> <a id="7185" href="Path.Reasoning.html#157" class="Function">⟩</a>

      <a id="7194" class="Symbol">(</a><a id="7195" class="Keyword">do</a> <a id="7198" href="Effects.State.html#7198" class="Bound">s₁</a> <a id="7201" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="7203" href="Effects.State.html#3218" class="Function">get</a>
          <a id="7217" href="Effects.State.html#7217" class="Bound">s₂</a> <a id="7220" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="7222" href="Effects.State.html#3218" class="Function">get</a>
          <a id="7236" class="Keyword">let</a> <a id="7240" href="Effects.State.html#7240" class="Bound">y</a> <a id="7242" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7244" href="Effects.State.html#7244" class="Bound">s₃</a> <a id="7247" class="Symbol">=</a> <a id="7249" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="7263" class="Symbol">(</a><a id="7264" href="Effects.State.html#6864" class="Bound">xs</a> <a id="7267" href="Effects.State.html#7198" class="Bound">s₁</a><a id="7269" class="Symbol">)</a> <a id="7271" href="Effects.State.html#7217" class="Bound">s₂</a>
          <a id="7284" href="Effects.State.html#3258" class="Function">put</a> <a id="7288" href="Effects.State.html#7244" class="Bound">s₃</a>
          <a id="7301" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="7308" href="Effects.State.html#7240" class="Bound">y</a><a id="7309" class="Symbol">)</a>                                         <a id="7351" href="Path.Reasoning.html#298" class="Function">≡⟨</a> <a id="7354" href="Effects.State.html#7354" class="Bound">s</a> <a id="7356" href="FreeMonad.Quotiented.html#9703" class="Function">⇐</a> <a id="7358" href="Effects.State.html#3218" class="Function">get</a> <a id="7362" href="FreeMonad.Quotiented.html#9703" class="Function">;/</a> <a id="7365" href="Effects.State.html#6868" class="Bound">r</a> <a id="7367" href="Effects.State.html#7354" class="Bound">s</a> <a id="7369" href="Path.Reasoning.html#298" class="Function">⟩</a>

      <a id="7378" class="Symbol">(</a><a id="7379" class="Keyword">do</a> <a id="7382" href="Effects.State.html#7382" class="Bound">s</a> <a id="7384" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="7386" href="Effects.State.html#3218" class="Function">get</a>
          <a id="7400" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="7402" href="Effects.State.html#6864" class="Bound">xs</a> <a id="7405" href="Effects.State.html#7382" class="Bound">s</a> <a id="7407" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="7408" class="Symbol">)</a>                                         <a id="7450" href="Path.Reasoning.html#157" class="Function">≡˘⟨</a> <a id="7454" href="FreeMonad.Quotiented.html#7147" class="Function">syntactic-bind</a> <a id="7469" href="Effects.State.html#6864" class="Bound">xs</a> <a id="7472" href="Effects.State.html#998" class="Function">Synt.get</a> <a id="7481" href="Path.Reasoning.html#157" class="Function">⟩</a>

      <a id="7490" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="7492" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a> <a id="7495" class="Symbol">(</a><a id="7496" href="Effects.State.html#367" class="InductiveConstructor">`get</a> <a id="7501" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7503" href="Effects.State.html#6864" class="Bound">xs</a><a id="7505" class="Symbol">)</a> <a id="7507" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a> <a id="7509" href="Path.Reasoning.html#642" class="Function Operator">∎</a>

    <a id="7516" href="Effects.State.html#6742" class="Function">alg</a> <a id="7520" class="Symbol">(</a><a id="7521" href="FreeMonad.Syntax.html#1603" class="InductiveConstructor">op</a> <a id="7524" class="Symbol">(</a><a id="7525" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="7530" href="Effects.State.html#7530" class="Bound">x</a> <a id="7532" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7534" href="Effects.State.html#7534" class="Bound">xs</a><a id="7536" class="Symbol">)</a> <a id="7538" href="Effects.State.html#7538" class="Bound">r</a><a id="7539" class="Symbol">)</a> <a id="7541" class="Symbol">=</a>

      <a id="7550" href="Effects.State.html#5448" class="Function">toState</a> <a id="7558" class="Symbol">(</a><a id="7559" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="7573" class="Symbol">(</a><a id="7574" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a> <a id="7577" class="Symbol">(</a><a id="7578" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="7583" href="Effects.State.html#7530" class="Bound">x</a> <a id="7585" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7587" href="Effects.State.html#7534" class="Bound">xs</a><a id="7589" class="Symbol">)))</a>                      <a id="7614" href="Path.Reasoning.html#574" class="Function Operator">≡⟨⟩</a>

      <a id="7625" class="Symbol">(</a><a id="7626" class="Keyword">do</a> <a id="7629" href="Effects.State.html#7629" class="Bound">s₁</a> <a id="7632" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="7634" href="Effects.State.html#3218" class="Function">get</a>
          <a id="7648" class="Keyword">let</a> <a id="7652" href="Effects.State.html#7652" class="Bound">y</a> <a id="7654" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7656" href="Effects.State.html#7656" class="Bound">s₂</a> <a id="7659" class="Symbol">=</a> <a id="7661" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="7675" class="Symbol">(</a><a id="7676" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a> <a id="7679" class="Symbol">(</a><a id="7680" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="7685" href="Effects.State.html#7530" class="Bound">x</a> <a id="7687" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7689" href="Effects.State.html#7534" class="Bound">xs</a><a id="7691" class="Symbol">))</a> <a id="7694" href="Effects.State.html#7629" class="Bound">s₁</a>
          <a id="7707" href="Effects.State.html#3258" class="Function">put</a> <a id="7711" href="Effects.State.html#7656" class="Bound">s₂</a>
          <a id="7724" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="7731" href="Effects.State.html#7652" class="Bound">y</a><a id="7732" class="Symbol">)</a>                                                   <a id="7784" href="Path.Reasoning.html#574" class="Function Operator">≡⟨⟩</a>

      <a id="7795" class="Symbol">(</a><a id="7796" class="Keyword">do</a> <a id="7799" href="Effects.State.html#7799" class="Bound">s₁</a> <a id="7802" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="7804" href="Effects.State.html#3218" class="Function">get</a>
          <a id="7818" class="Keyword">let</a> <a id="7822" href="Effects.State.html#7822" class="Bound">y</a> <a id="7824" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7826" href="Effects.State.html#7826" class="Bound">s₂</a> <a id="7829" class="Symbol">=</a> <a id="7831" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="7845" class="Symbol">(</a><a id="7846" href="Effects.State.html#7534" class="Bound">xs</a> <a id="7849" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a><a id="7851" class="Symbol">)</a> <a id="7853" href="Effects.State.html#7530" class="Bound">x</a>
          <a id="7865" href="Effects.State.html#3258" class="Function">put</a> <a id="7869" href="Effects.State.html#7826" class="Bound">s₂</a>
          <a id="7882" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="7889" href="Effects.State.html#7822" class="Bound">y</a><a id="7890" class="Symbol">)</a>                                                   <a id="7942" href="Path.Reasoning.html#298" class="Function">≡⟨</a> <a id="7945" href="Effects.State.html#5218" class="Function">get-nop</a> <a id="7953" class="Symbol">_</a> <a id="7955" href="Path.Reasoning.html#298" class="Function">⟩</a>

      <a id="7964" class="Symbol">(</a><a id="7965" class="Keyword">do</a> <a id="7968" class="Keyword">let</a> <a id="7972" href="Effects.State.html#7972" class="Bound">y</a> <a id="7974" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7976" href="Effects.State.html#7976" class="Bound">s₂</a> <a id="7979" class="Symbol">=</a> <a id="7981" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="7995" class="Symbol">(</a><a id="7996" href="Effects.State.html#7534" class="Bound">xs</a> <a id="7999" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a><a id="8001" class="Symbol">)</a> <a id="8003" href="Effects.State.html#7530" class="Bound">x</a>
          <a id="8015" href="Effects.State.html#3258" class="Function">put</a> <a id="8019" href="Effects.State.html#7976" class="Bound">s₂</a>
          <a id="8032" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="8039" href="Effects.State.html#7972" class="Bound">y</a><a id="8040" class="Symbol">)</a>                                                   <a id="8092" href="Path.Reasoning.html#157" class="Function">≡˘⟨</a> <a id="8096" href="Effects.State.html#3477" class="Function">put-put</a> <a id="8104" class="Symbol">_</a> <a id="8106" class="Symbol">_</a> <a id="8108" class="Symbol">(</a><a id="8109" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="8116" class="Symbol">(</a><a id="8117" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="8121" class="Symbol">(</a><a id="8122" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="8136" class="Symbol">(</a><a id="8137" href="Effects.State.html#7534" class="Bound">xs</a> <a id="8140" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a><a id="8142" class="Symbol">)</a> <a id="8144" href="Effects.State.html#7530" class="Bound">x</a><a id="8145" class="Symbol">)))</a> <a id="8149" href="Path.Reasoning.html#157" class="Function">⟩</a>

      <a id="8158" class="Symbol">(</a><a id="8159" class="Keyword">do</a> <a id="8162" href="Effects.State.html#3258" class="Function">put</a> <a id="8166" href="Effects.State.html#7530" class="Bound">x</a>
          <a id="8178" class="Keyword">let</a> <a id="8182" href="Effects.State.html#8182" class="Bound">y</a> <a id="8184" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8186" href="Effects.State.html#8186" class="Bound">s₂</a> <a id="8189" class="Symbol">=</a> <a id="8191" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="8205" class="Symbol">(</a><a id="8206" href="Effects.State.html#7534" class="Bound">xs</a> <a id="8209" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a><a id="8211" class="Symbol">)</a> <a id="8213" href="Effects.State.html#7530" class="Bound">x</a>
          <a id="8225" href="Effects.State.html#3258" class="Function">put</a> <a id="8229" href="Effects.State.html#8186" class="Bound">s₂</a>
          <a id="8242" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="8249" href="Effects.State.html#8182" class="Bound">y</a><a id="8250" class="Symbol">)</a>                                                   <a id="8302" href="Path.Reasoning.html#157" class="Function">≡˘⟨</a> <a id="8306" href="Effects.State.html#3811" class="Function">put-get</a> <a id="8314" class="Symbol">_</a> <a id="8316" class="Symbol">_</a> <a id="8318" href="Path.Reasoning.html#157" class="Function">⟩</a>

      <a id="8327" class="Symbol">(</a><a id="8328" class="Keyword">do</a> <a id="8331" href="Effects.State.html#3258" class="Function">put</a> <a id="8335" href="Effects.State.html#7530" class="Bound">x</a>
          <a id="8347" href="Effects.State.html#8347" class="Bound">s₁</a> <a id="8350" href="FreeMonad.Quotiented.html#5654" class="Function Operator">←</a> <a id="8352" href="Effects.State.html#3218" class="Function">get</a>
          <a id="8366" class="Keyword">let</a> <a id="8370" href="Effects.State.html#8370" class="Bound">y</a> <a id="8372" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8374" href="Effects.State.html#8374" class="Bound">s₂</a> <a id="8377" class="Symbol">=</a> <a id="8379" href="Effects.State.html#2454" class="Function">Synt.runState</a> <a id="8393" class="Symbol">(</a><a id="8394" href="Effects.State.html#7534" class="Bound">xs</a> <a id="8397" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a><a id="8399" class="Symbol">)</a> <a id="8401" href="Effects.State.html#8347" class="Bound">s₁</a>
          <a id="8414" href="Effects.State.html#3258" class="Function">put</a> <a id="8418" href="Effects.State.html#8374" class="Bound">s₂</a>
          <a id="8431" href="FreeMonad.Quotiented.html#5498" class="Function">return</a> <a id="8438" href="Effects.State.html#8370" class="Bound">y</a><a id="8439" class="Symbol">)</a>                                                   <a id="8491" href="Path.Reasoning.html#298" class="Function">≡⟨</a> <a id="8494" href="Cubical.Foundations.Id.html#772" class="Function">cong</a> <a id="8499" class="Symbol">(</a><a id="8500" href="Effects.State.html#3258" class="Function">put</a> <a id="8504" href="Effects.State.html#7530" class="Bound">x</a> <a id="8506" href="FreeMonad.Quotiented.html#5772" class="Function Operator">&gt;&gt;_</a><a id="8509" class="Symbol">)</a> <a id="8511" class="Symbol">(</a><a id="8512" href="Effects.State.html#7538" class="Bound">r</a> <a id="8514" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a><a id="8516" class="Symbol">)</a> <a id="8518" href="Path.Reasoning.html#298" class="Function">⟩</a>

      <a id="8527" class="Symbol">(</a><a id="8528" class="Keyword">do</a> <a id="8531" href="Effects.State.html#3258" class="Function">put</a> <a id="8535" href="Effects.State.html#7530" class="Bound">x</a>
          <a id="8547" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="8549" href="Effects.State.html#7534" class="Bound">xs</a> <a id="8552" href="Effects.State.html#107" class="InductiveConstructor">⟨⟩</a> <a id="8555" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a><a id="8556" class="Symbol">)</a>                                                   <a id="8608" href="Path.Reasoning.html#574" class="Function Operator">≡⟨⟩</a>

      <a id="8619" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[</a> <a id="8621" href="FreeMonad.Syntax.html#445" class="InductiveConstructor">op</a> <a id="8624" class="Symbol">(</a><a id="8625" href="Effects.State.html#382" class="InductiveConstructor">`put</a> <a id="8630" href="Effects.State.html#7530" class="Bound">x</a> <a id="8632" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8634" href="Effects.State.html#7534" class="Bound">xs</a><a id="8636" class="Symbol">)</a> <a id="8638" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">]</a> <a id="8640" href="Path.Reasoning.html#642" class="Function Operator">∎</a>
      
  <a id="8651" href="Effects.State.html#8651" class="Function">state-iso</a> <a id="8661" class="Symbol">:</a> <a id="8663" href="Effects.State.html#3175" class="Function">State</a> <a id="8669" href="Effects.State.html#5890" class="Bound">A</a> <a id="8671" href="Cubical.Foundations.Isomorphism.html#770" class="Record Operator">⇔</a> <a id="8673" class="Symbol">(</a><a id="8674" href="Effects.State.html#229" class="Bound">S</a> <a id="8676" class="Symbol">→</a> <a id="8678" href="Effects.State.html#5890" class="Bound">A</a> <a id="8680" href="Data.Sigma.html#650" class="Function Operator">×</a> <a id="8682" href="Effects.State.html#229" class="Bound">S</a><a id="8683" class="Symbol">)</a>
  <a id="8687" href="Effects.State.html#8651" class="Function">state-iso</a> <a id="8697" class="Symbol">.</a><a id="8698" href="Cubical.Foundations.Isomorphism.html#882" class="Field">fun</a> <a id="8702" class="Symbol">=</a> <a id="8704" href="Effects.State.html#6174" class="Function">runState</a>
  <a id="8715" href="Effects.State.html#8651" class="Function">state-iso</a> <a id="8725" class="Symbol">.</a><a id="8726" href="Cubical.Foundations.Isomorphism.html#898" class="Field">inv</a> <a id="8730" class="Symbol">=</a> <a id="8732" href="Effects.State.html#5448" class="Function">toState</a>
  <a id="8742" href="Effects.State.html#8651" class="Function">state-iso</a> <a id="8752" class="Symbol">.</a><a id="8753" href="Cubical.Foundations.Isomorphism.html#914" class="Field">rightInv</a> <a id="8762" class="Symbol">=</a> <a id="8764" href="Effects.State.html#6432" class="Function">rinv</a>
  <a id="8771" href="Effects.State.html#8651" class="Function">state-iso</a> <a id="8781" class="Symbol">.</a><a id="8782" href="Cubical.Foundations.Isomorphism.html#945" class="Field">leftInv</a> <a id="8790" class="Symbol">=</a> <a id="8792" href="Effects.State.html#6472" class="Function">linv</a>

<a id="8798" class="Keyword">open</a> <a id="8803" class="Keyword">import</a> <a id="8810" href="Truth.html" class="Module">Truth</a> <a id="8816" class="Keyword">hiding</a> <a id="8823" class="Symbol">(</a><a id="8824" href="Truth.html#1037" class="Record">Ω</a><a id="8825" class="Symbol">)</a>
<a id="8827" class="Keyword">open</a> <a id="8832" class="Keyword">import</a> <a id="8839" href="Truth.MonoLevel.html" class="Module">Truth.MonoLevel</a> <a id="8855" class="Number">0</a>
<a id="8857" class="Keyword">open</a> <a id="8862" class="Keyword">import</a> <a id="8869" href="Truth.MonoLevel.html" class="Module">Truth.MonoLevel</a> <a id="8885" class="Number">1</a> <a id="8887" class="Keyword">using</a> <a id="8893" class="Symbol">()</a> <a id="8896" class="Keyword">renaming</a> <a id="8905" class="Symbol">(</a><a id="8906" href="Truth.MonoLevel.html#147" class="Function">Ω</a> <a id="8908" class="Symbol">to</a> <a id="8911" class="Function">Ω₁</a><a id="8913" class="Symbol">)</a> 

<a id="8917" class="Markup">\end{code}</a><a id="8927" class="Background">
</a></pre></body></html>