<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="forest.xsl"?>
<tree expanded="true" show-heading="true" show-metadata="true" toc="false" root="false"><frontmatter> <anchor>147</anchor>  <taxon>Reference</taxon> <addr>seely-1984</addr> <source-path>/Users/yangzx/Documents/forest/trees/refs/seely-1984.tree</source-path> <route>seely-1984.xml</route> <date><year>1984</year>  </date> <authors><author>seely</author> </authors> <title>Locally cartesian closed categories and type theory</title> <meta name="doi">10.1017/S0305004100061284</meta><meta name="bibtex">@article{Seely_1984,
 title={Locally cartesian closed categories and type theory},
 volume={95},
 ISSN={14698064},
 DOI={10.1017/S0305004100061284},
 number={1},
 journal={Mathematical Proceedings of the Cambridge Philosophical Society},
 author={Seely, R. A. G.},
 year={1984},
 pages={33–48} 
}
</meta></frontmatter> <mainmatter/> <backmatter><contributions/> <context/> <related/> <backlinks><tree expanded="false" show-heading="true" show-metadata="true" toc="false" root="false"><frontmatter> <anchor>148</anchor>   <addr>zyang-0009</addr> <source-path>/Users/yangzx/Documents/forest/trees/zyang-0009.tree</source-path> <route>zyang-0009.xml</route> <date><year>2023</year> <month>9</month> <day>26</day></date> <authors><author><link href="zyang.xml" type="local">Zhixuan Yang</link></author> </authors> <title>Structures in the category of spans</title> </frontmatter> <mainmatter><p>It is well known that presheaf categories are Grothendieck topoi and thus are models for (extensional) <link href="https://ncatlab.org/nlab/show/Martin-Löf+dependent+type+theory" type="external"><em>Martin-Löf type theory</em></link> (MLTT) and <em>intuitionistic higher-order logic</em>. In this section, I will spell out the interpretation of the common logical structures in the presheaf category <tex>\mathbf{PSh} ( \mathbf{S} ^{ \mathsf{o} } )</tex> of spans. I will omit the proofs for these constructions though, since they can be found in standard text books on category theory. <mark>where?</mark></p><p>First we recall that <em>contexts</em> <tex>\Gamma</tex> of MLTT are interpreted as objects <tex>{ \llbracket   \Gamma   \rrbracket }</tex> in <tex>\mathbf{Sp}</tex>, and the empty context is interpreted as the terminal object <tex>\mathbf{1} _{ }</tex> in <tex>\mathbf{Sp}</tex>. The terminal span, and more generally limits and colimits in <tex>\mathbf{Sp}</tex> can be computed pointwise as follows.</p><tree expanded="true" show-heading="true" show-metadata="false" toc="true" root="false"><frontmatter><trail><crumb>1</crumb></trail> <anchor>149</anchor>  <taxon>Construction</taxon> <addr>zyang-000A</addr> <source-path>/Users/yangzx/Documents/forest/trees/zyang-000A.tree</source-path> <route>zyang-000A.xml</route> <date><year>2023</year> <month>9</month> <day>26</day></date> <authors><author><link href="zyang.xml" type="local">Zhixuan Yang</link></author> </authors> <title>Limits and colimits of spans</title> </frontmatter> <mainmatter><p>Limits and colimits in a functor category are computed pointwise, so the limit (and similarly for colimit) of a diagram <tex>F :  \mathcal{D}   \to   \mathbf{Sp}</tex> is 
<tex display="block">( \operatorname{lim} _{ i  \in   \mathcal{D} } Fi)_X =  \operatorname{lim} _{ i  \in   \mathcal{D} } (Fi)_X  \text{ for }  X  \in   \mathbf{S}</tex>which always exists when <tex>\mathcal{D}</tex> is small, since <tex>\mathbf{Set}</tex> is small-complete.
</p><p>In particular, the terminal object <tex>\mathbf{1} _{ }</tex> in <tex>\mathbf{Sp}</tex> is the span of singleton sets <tex display="block">\mathbf{1} _{ \mathbf{Set} }   \leftarrow   \mathbf{1} _{ \mathbf{Set} }   \rightarrow   \mathbf{1} _{ \mathbf{Set} } ,</tex> and the initial object <tex>\mathbf{0} _{ }</tex> in <tex>\mathbf{Sp}</tex> is the span of empty sets 
<tex display="block">\mathbf{0} _{ \mathbf{Set} }   \leftarrow   \mathbf{0} _{ \mathbf{Set} }   \rightarrow   \mathbf{0} _{ \mathbf{Set} } .</tex></p></mainmatter> </tree><p>The most natural way to interpret a type <tex>A</tex> that depends on a context <tex>\Gamma</tex> is a morphism <tex>p :  { \llbracket   A   \rrbracket }   \to   { \llbracket   \Gamma   \rrbracket }</tex> (<link href="seely-1984.xml" type="local" title="Seely 1984">Seely 1984</link>), and applying a substitution <tex>\gamma  :  \Delta   \to   \Gamma</tex> to the type <tex>{ \Gamma   \vdash   A }</tex> is interpreted as pulling <tex>p</tex> back along <tex>\gamma</tex>:</p><center><img src="resources/d42a56a337e9e98b91dd4c63c6dc87eb-web.svg"/></center><p>And then type connectives are interpreted as various categorical structures in the slice category <tex>{ \mathbf{Sp} } _{ / { \llbracket   \Gamma   \rrbracket } }</tex>. For example, the product type <tex>{ \Gamma   \vdash   A  \times  B }</tex> is interpreted as the product of <tex>p :  { \llbracket   A   \rrbracket }   \to   { \llbracket   \Gamma   \rrbracket }</tex> and <tex>q :  { \llbracket   B   \rrbracket }   \to   { \llbracket   \Gamma   \rrbracket }</tex> in <tex>{ \mathbf{Sp} } _{ / { \llbracket   \Gamma   \rrbracket } }</tex> (which is the same as a pullback in <tex>\mathbf{Sp}</tex>).</p><p>However, a subtle problem that is well known now is that substitution on syntax <em>strictly</em> commutes with many other operations, while pullbacks in a category only commute with other operations <em>up to isomorphism</em>. For example, on syntax <tex>{ \Delta   \vdash   \gamma (A  \times  B) }</tex> is definitionally equal to <tex>{ \Delta   \vdash   \gamma (A)  \times   \gamma (B) }</tex>, but their interpretations in the category <tex>\mathbf{Sp}</tex> if we follow the recipe above are only isomorphic but not necessarily strictly equal. Therefore, the interpretation above of types in a context <em>does not</em> work, since it doesn't validate some of the equations in the syntax model.</p><p>There are multiple ways to fix this problem (<mark>add refs</mark>). In this post we will use one way that makes use of <em>universes of small spans</em> in <tex>\mathbf{Sp}</tex>.</p><tree expanded="true" show-heading="true" show-metadata="false" toc="true" root="false"><frontmatter><trail><crumb>2</crumb></trail> <anchor>150</anchor>  <taxon>Definition</taxon> <addr>zyang-000E</addr> <source-path>/Users/yangzx/Documents/forest/trees/zyang-000E.tree</source-path> <route>zyang-000E.xml</route> <date><year>2023</year> <month>9</month> <day>27</day></date> <authors><author><link href="zyang.xml" type="local">Zhixuan Yang</link></author> </authors> <title>Small spans and small span morphisms</title> </frontmatter> <mainmatter><p>For every <link href="https://ncatlab.org/nlab/show/Grothendieck+universe" type="external"><em>Grothendieck universe</em></link> <tex>\mathcal{U}</tex> of sets, we call a span <em><tex>\mathcal{U}</tex>-small</em> if its three constituting sets are all elements of <tex>\mathcal{U}</tex>. Moreover, a morphism of spans <tex>h : B  \to  A</tex> is called <tex>\mathcal{U}</tex>-small if for every <tex>p : x  \mathrel{A}  y</tex> the following span is <tex>\mathcal{U}</tex>-small:
<tex display="block">h_L^{-1}(x)  \xleftarrow{q  \mathrel{\mapsto}  B_l(q) }  h_C^{-1}(p)  \xrightarrow{q  \mathrel{\mapsto}  B_r(q)}  h_R^{-1}(y)</tex>where <tex>f^{-1}(x)</tex> denotes the inverse image of a function.
</p></mainmatter> </tree><tree expanded="true" show-heading="true" show-metadata="false" toc="true" root="false"><frontmatter><trail><crumb>3</crumb></trail> <anchor>151</anchor>  <taxon>Construction</taxon> <addr>zyang-000D</addr> <source-path>/Users/yangzx/Documents/forest/trees/zyang-000D.tree</source-path> <route>zyang-000D.xml</route> <date><year>2023</year> <month>9</month> <day>27</day></date>  <title>Universes of spans</title> </frontmatter> <mainmatter><p>The <link href="hofmann-streicher-1997.xml" type="local" title="Hofmann-Streicher lifting"><em>Hofmann-Streicher lifting</em></link> <tex>\dot{\mathcal{U}}</tex> of a Grothendieck universe <tex>\mathcal{U}</tex> of sets to the category of spans is the following span:
<tex display="block">\dot{\mathcal{U}}   \coloneqq   \left ( \mathcal{U}   \xleftarrow{\mathsf{dom} _{ }}   \mathcal{S} _ \mathcal{U}   \xrightarrow{\mathsf{cod} _{ }}   \mathcal{U}   \right ).</tex>where <tex>\mathcal{S} _ \mathcal{U}</tex> is the set of all <tex>\mathcal{U}</tex>-small spans. (Clearly, <tex>\dot{\mathcal{U}}</tex> itself is not <tex>\mathcal{U}</tex>-small.)</p><p>There is also a lifting of
the <em>pointed universe</em> <tex>\mathcal{U} ^ \bullet   \coloneqq   { \left \{ { \left \langle   X, x   \right \rangle }   \mid  X  \in   \mathcal{U} , x  \in  A \right \} }</tex> to the category of spans, which is 
<tex display="block">\dot{\mathcal{U}} ^ \bullet   \coloneqq   \left ( \mathcal{U} ^ \bullet   \leftarrow   { \left \{ { \left \langle   A, p   \right \rangle }   \mid  A  \in   \mathcal{S} _ \mathcal{U} , p  \in  A_C \right \} }   \rightarrow   \mathcal{U} ^ \bullet   \right )</tex>where the two legs of the span are respectively
<tex display="block">{ { \left \langle   A,p   \right \rangle }   \mapsto   { \left \langle   \mathsf{dom} _{ } A, A_l(p)   \right \rangle } }  \quad \text{and} \quad  { { \left \langle   A,p   \right \rangle }   \mapsto   { \left \langle   \mathsf{cod} _{ } A, A_r(p)   \right \rangle } }.</tex>There is an evident morphism <tex>\pi  :  \dot{\mathcal{U}} ^ \bullet   \to   \dot{\mathcal{U}}</tex> of spans that projects out the first components.</p><p>The universal property of Hofmann-Streicher lifting <tex>\mathcal{U}</tex> is that it <em>weakly classifies</em> <tex>\mathcal{U}</tex>-small morphisms: for every <tex>\mathcal{U}</tex>-small morphism <tex>h : B  \to  A</tex> of spans, there exists a (not necessarily unique) pullback square:</p><center><img src="resources/83be07f0e75cd84350ebeb3ddfed998e-web.svg"/></center><p>And conversely, pulling back  <tex>\pi</tex> along every morphism <tex>k : A  \to   \dot{\mathcal{U}}</tex> of spans results in a  <tex>\mathcal{U}</tex>-small morphism <tex>A  \times _{ \dot{\mathcal{U}} }  \dot{\mathcal{U}} ^ \bullet   \to  A</tex>.</p></mainmatter> </tree></mainmatter> </tree></backlinks> <references/></backmatter></tree>