<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="forest.xsl"?>
<tree expanded="true" show-heading="true" show-metadata="true" toc="false" root="false"><frontmatter> <anchor>660</anchor>  <taxon>Proposition</taxon> <addr>zyang-000M</addr>  <route>zyang-000M.xml</route> <date><year>2023</year> <month>10</month> <day>4</day></date>  <title>Universal property of dependent sum of spans</title> </frontmatter> <mainmatter><p>It can be checked that the definition of <tex>\Sigma  A B</tex> above satisfies that for every <tex>f :  \Delta   \to   \Gamma</tex> there is a canonical bijection
<tex display="block">\mathbf{Tm} ( \Delta ; f^*( \Sigma  A B))  \cong   \sigma ( a  \in   \mathbf{Tm} ( \Delta ; f^* A)  . \    \mathbf{Tm} ( \Delta ;  { \left \langle   f, a   \right \rangle } ^* B) )</tex>where we write <tex>f^*</tex> for the action <tex>\mathbf{Ty} (f) :  \mathbf{Ty} ( \Gamma )  \to   \mathbf{Ty} ( \Delta )</tex> and <tex>{ \left \langle   f, a   \right \rangle }  :  \Delta   \to   \Gamma .A</tex> for the morphism given by the universal property of <tex>\Gamma .A</tex>.
Additionally, when we regard both sides of isomorphism above as functors <tex>{ \mathbf{Sp} } _{ / \Gamma }   \to   \mathbf{Set}</tex>, it is a natural isomorphism.</p><p>This natural isomorphism underlies the term formers and eliminators of sum types. Letting <tex>f</tex> in the isomorphism be the projection <tex>p :  \Gamma . \Sigma  A B  \to   \Gamma</tex>, there is always a term <tex>v :  \mathbf{Tm} ( \Gamma . \Sigma  A B; p^*( \Sigma  A B))</tex> which uses the variable of type <tex>\Sigma  A B</tex> in the context <tex>\Gamma . \Sigma  A B</tex>. This term under the isomorphism gives rise to elements
<tex display="block">\begin{align*} \pi _1 &amp; \in   \mathbf{Tm} ( \Gamma . \Sigma  A B, p^* A)  \\ \pi _2 &amp; \in   \mathbf{Tm} ( \Gamma . \Sigma  A B,  { \left \langle   p,  \pi _1   \right \rangle } ^* B) \end{align*}</tex>that are the first projection and second projection of dependent sums.
From the other direction, letting <tex>f</tex> be the identity <tex>\Gamma   \to   \Gamma</tex>, this isomorphism implies that an element <tex>a  \in   \mathbf{Tm} ( \Gamma ; A)</tex> and an element of <tex>\mathbf{Tm} ( \Gamma ;  { \left \langle   1 _{ \Gamma } , a   \right \rangle } ^* B)</tex> can be <em>paired</em> to form an element of <tex>\Sigma  A B</tex> in the context <tex>\Gamma</tex>.
Finally, the naturality of this isomorphism guarantees that substitution commutes with the projections and pairing.
</p></mainmatter> <backmatter><contributions/> <context><tree expanded="false" show-heading="true" show-metadata="true" toc="false" root="false"><frontmatter> <anchor>661</anchor>   <addr>zyang-000L</addr>  <route>zyang-000L.xml</route> <date><year>2023</year> <month>10</month> <day>4</day></date>  <title>Dependent sums of spans</title> </frontmatter> <mainmatter><p>For every set <tex>A</tex> and <tex>A</tex>-indexed family of sets <tex>B(a)</tex>, we denote the set of their dependent sum using the following notation:
<tex display="block">\sigma ( x  \in  A  . \  B(x) )   \coloneqq   { \left \{ { \left \langle   a, b   \right \rangle }   \mid  a  \in  A, b  \in  B(a) \right \} }</tex></p><p>For every span <tex>\Gamma   \in   \mathbf{Sp}</tex>, <tex>A  \in   \mathbf{Ty} ( \Gamma )</tex>, and <tex>B  \in   \mathbf{Ty} ( \Gamma .A)</tex> (i.e. <tex>A :  \Gamma   \to   \dot{\mathcal{U}}</tex> and <tex>B :  \Gamma .A  \to   \dot{\mathcal{U}}</tex>), the <em>dependent sum</em> of <tex>A</tex> and <tex>B</tex> is an element <tex>\Sigma  A B :  \Gamma   \to   \dot{\mathcal{U}}</tex> of <tex>\mathbf{Ty} ( \Gamma )</tex>:
<tex display="block">\begin{align*} \left ( \Sigma  A B \right )_L(x) &amp;=  \sigma ( a  \in  A_L(x)  . \  B_L(x, a) ) \\ \left ( \Sigma  A B \right )_R(y) &amp;=  \sigma ( a  \in  A_R(y)  . \  B_R(y, a) ) \end{align*}</tex>and <tex>( \Sigma  A B)_C(p)</tex> is the span whose middle set is
<tex display="block">M  \coloneqq   \sigma ( q  \in  (A_C(p))_C  . \   (B_C(p, q))_C  )</tex>with a right leg 
<tex display="block">\begin{align*} M &amp; \to   \left ( \Sigma  A B)_R( \Gamma _r(p) \right )  \\ { \left \langle   q, s   \right \rangle }  &amp; \mapsto   { \left \langle   A_C(p)_r(q), B_C (p, q)_r (s)   \right \rangle } \end{align*}</tex>and a symmetric left leg. The reader might want to pause to check that the definition above makes sense by the naturality of <tex>A</tex> and <tex>B</tex>.</p><tree expanded="true" show-heading="true" show-metadata="false" toc="true" root="false"><frontmatter><trail><crumb>1</crumb></trail> <anchor>662</anchor>  <taxon>Proposition</taxon> <addr>zyang-000O</addr>  <route>zyang-000O.xml</route> <date><year>2023</year> <month>10</month> <day>5</day></date>  <title>Naturality of sum types</title> </frontmatter> <mainmatter><p>It is not very difficult to check that substitution commutes with <tex>\Sigma</tex>-types: let <tex>\gamma  :  \Delta   \to   \Gamma</tex> be a morphism, we have the (strict) equality
<tex display="block">\gamma ^*  \Sigma  A B =  \Sigma  ( \gamma ^* A) (( \gamma ^{+})^* B)</tex>where <tex>\gamma ^+  \coloneqq   { \left \langle   \gamma   \circ  p, v   \right \rangle }  :  \Delta .( \gamma ^* A)  \to   \Gamma .A</tex> is given by the universal property of <tex>\Gamma .A</tex>.
</p></mainmatter> </tree><tree expanded="true" show-heading="true" show-metadata="false" toc="true" root="false"><frontmatter><trail><crumb>2</crumb></trail> <anchor>663</anchor>  <taxon>Proposition</taxon> <addr>zyang-000M</addr>  <route>zyang-000M.xml</route> <date><year>2023</year> <month>10</month> <day>4</day></date>  <title>Universal property of dependent sum of spans</title> </frontmatter> <mainmatter><p>It can be checked that the definition of <tex>\Sigma  A B</tex> above satisfies that for every <tex>f :  \Delta   \to   \Gamma</tex> there is a canonical bijection
<tex display="block">\mathbf{Tm} ( \Delta ; f^*( \Sigma  A B))  \cong   \sigma ( a  \in   \mathbf{Tm} ( \Delta ; f^* A)  . \    \mathbf{Tm} ( \Delta ;  { \left \langle   f, a   \right \rangle } ^* B) )</tex>where we write <tex>f^*</tex> for the action <tex>\mathbf{Ty} (f) :  \mathbf{Ty} ( \Gamma )  \to   \mathbf{Ty} ( \Delta )</tex> and <tex>{ \left \langle   f, a   \right \rangle }  :  \Delta   \to   \Gamma .A</tex> for the morphism given by the universal property of <tex>\Gamma .A</tex>.
Additionally, when we regard both sides of isomorphism above as functors <tex>{ \mathbf{Sp} } _{ / \Gamma }   \to   \mathbf{Set}</tex>, it is a natural isomorphism.</p><p>This natural isomorphism underlies the term formers and eliminators of sum types. Letting <tex>f</tex> in the isomorphism be the projection <tex>p :  \Gamma . \Sigma  A B  \to   \Gamma</tex>, there is always a term <tex>v :  \mathbf{Tm} ( \Gamma . \Sigma  A B; p^*( \Sigma  A B))</tex> which uses the variable of type <tex>\Sigma  A B</tex> in the context <tex>\Gamma . \Sigma  A B</tex>. This term under the isomorphism gives rise to elements
<tex display="block">\begin{align*} \pi _1 &amp; \in   \mathbf{Tm} ( \Gamma . \Sigma  A B, p^* A)  \\ \pi _2 &amp; \in   \mathbf{Tm} ( \Gamma . \Sigma  A B,  { \left \langle   p,  \pi _1   \right \rangle } ^* B) \end{align*}</tex>that are the first projection and second projection of dependent sums.
From the other direction, letting <tex>f</tex> be the identity <tex>\Gamma   \to   \Gamma</tex>, this isomorphism implies that an element <tex>a  \in   \mathbf{Tm} ( \Gamma ; A)</tex> and an element of <tex>\mathbf{Tm} ( \Gamma ;  { \left \langle   1 _{ \Gamma } , a   \right \rangle } ^* B)</tex> can be <em>paired</em> to form an element of <tex>\Sigma  A B</tex> in the context <tex>\Gamma</tex>.
Finally, the naturality of this isomorphism guarantees that substitution commutes with the projections and pairing.
</p></mainmatter> </tree></mainmatter> </tree></context> <related/> <backlinks/> <references/></backmatter></tree>